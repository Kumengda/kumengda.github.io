<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Mengd@</title><meta name="author" content="Mengd@"><meta name="copyright" content="Mengd@"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="Mengd@">
<meta property="og:url" content="https://men9da.cn/index.html">
<meta property="og:site_name" content="Mengd@">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s3.ax1x.com/2021/01/15/s010Z4.jpg">
<meta property="article:author" content="Mengd@">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3.ax1x.com/2021/01/15/s010Z4.jpg"><link rel="shortcut icon" href="https://s3.ax1x.com/2021/01/15/s0eSiT.png"><link rel="canonical" href="https://men9da.cn/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: {"text":"Mengd@,Flag,CTF,Web,Misc,Pwn,N0p3,Nysec","fontSize":"15px"},
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-06-08 20:10:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Mengd@" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://s3.ax1x.com/2021/01/15/s010Z4.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Mengd@</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Mengd@</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次lmxcms审计"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计">记一次lmxcms审计</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-08T11:59:53.000Z" title="发表于 2022-06-08 19:59:53">2022-06-08</time></span></div><div class="content">前言:1.这是参加四叶草安全的安全研究岗位面试考试,当时面试官发了我一套lmxcms的源码,让我进行审计,尽可能找出更多的漏洞,当时的结果旧纪录下来了,想着审都审了就做做个记录吧,上传到博客上来
0x01:后台文件管理处存在任意文件删除漏洞http://127.0.0.1:83/admin.php后台文件管理处


随便选择一个图片,抓包,可以看到路径是用户输入的参数


对应的源码对应位置是
\m\FileModel.class.php,可以看到delete函数中的$data参数是传递过来的$_POST数组,


在$path[]=trim($fileInfo[1],”/“);处可以看到将$fileinfo[1]两侧的/移除了,然后在通过delteModel在数据库中删除对应fid后,将未经判断和过滤的$path直接使用unlink删除
这个时候就可以构造payload进行任意文件删除了
payload需要满足的条件是
payload必须形如:数字#####path
#####前面的数字是要满足parent:deleteModel()方法的中的数据库删除语句,如果此处没有数据或者数据 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022面经总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结">2022面经总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-18T14:19:43.000Z" title="发表于 2022-04-18 22:19:43">2022-04-18</time></span></div><div class="content">前言:这里总结一下我在进行面试复习的时候复习的知识点,根据网上各位师傅的面试经验进行问题回答总结,留作记录,每个问题的回答是基于本人情况并且站在自己的角度如何在面试中回答这个问题而写的。
[TOC]
自我介绍:我叫徐俊杰,今年大三,所学习的专业是渗透与测试,是学校CTF战队NYSEC的副队长,经常参加CTF比赛,也取得过一定的成绩.在安全方面除了通过CTF竞赛学到的安全知识外,在实战黑盒测试中:也有自己提交过SRC,在白盒测试中对开源cms以及快速建站系统等web程序审计并且发现漏洞提交到CNVD漏洞平台有自己的cnvd编号,平时会跟进一些热点漏洞,平时常常写一些安全小工具来为自己所使用
渗透测试流程1.明确目标
2.分析风险,获取授权
3.信息搜集
4.漏洞探测
5.漏洞验证
6.信息分析
什么是泛解析,在处理子域名爆破时泛解析应该如何处理?泛解析是指当我使用通配符把*.abc.com解析到1.1.1.1这个ip上时,用户访问xxx.abc.com都会被解析到ip:1.1.1.1上面,这使得域名可以无限支持子域,但是在我们进行子域名爆破的时候就会出现问题,因为任何子域名都会被解析到1 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析">     <img class="post_bg" src="https://s1.ax1x.com/2022/04/17/LUFaFK.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Log4j-RCE源码分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析">Log4j-RCE源码分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-17T06:08:44.000Z" title="发表于 2022-04-17 14:08:44">2022-04-17</time></span></div><div class="content">前言:Log4j是去年爆出来的漏洞了,但是那个时候研究java安全的能力还是0,如今在学习java安全的过程中来弥补一下当时的遗憾,当时拿着payload只能弹弹dnslog,完全不理解jndi,rmi这些调用机制,如今看来Log4j的漏洞触发并不复杂,但是简单的利用便可造成非常广泛的严重后果。
影响版本为2.0 &lt;= Apache log4j2 &lt;= 2.14.1
0x01:环境搭建个人认为搭建环境的过程是对漏洞理解不可缺少的一部分
maven项目pom.xml文件内容如下
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apa ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shiro系列漏洞分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析">shiro系列漏洞分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-17T05:47:11.000Z" title="发表于 2022-03-17 13:47:11">2022-03-17</time></span></div><div class="content">前言:经过一段时间的java安全知识的学习,对整个java安全的认知也进一步加深,平时耳熟能详的shiro也来到了我的java安全学习日程中,接下来就针对shiro系列漏洞shiro550,shiro721进行一波学习。
shiroshiro是一款安全框架,他主要干的事情就是和身份验证,授权,会话管理等有关的事情,shiro550和shiro721的漏洞触发点都是因为shiro在登陆的时候提供了一个大家经常都能用到的功能:记住登陆状态,下次登录就不用重新输入密码了。但是shiro在处理他时采用的办法是在cookie中加入一个rememberMe字段,并且往里面保存加密后的序列化数据,当用户再次登录会直接反序列化这一段数据来获得用户信息.我们要是知道加密方式就能任意触发反序列化代码导致漏洞出现
shiro550部署
直接访问
https://github.com//apache/shiro/archive/refs/tags/shiro-root-1.2.4.zip
下载后使用idea打开使用maven一键下载依赖,然后配置tomcat,deployment选择samples-web:w ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)">     <img class="post_bg" src="https://s1.ax1x.com/2022/03/14/bXLZLQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="通过调试源码深入理解分析RMI运行机制(长文)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)">通过调试源码深入理解分析RMI运行机制(长文)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-10T12:03:49.000Z" title="发表于 2022-03-10 20:03:49">2022-03-10</time></span></div><div class="content">阅读本篇文章前注意事项如果你是初次接触RMI,JNDI等概念,请先理解阅读我写的另一篇文章”RMI-JNDI初探”,个人认为整个RMI的运行机制还是非常复杂的,因为他在整个调用的过程中是多线程的,有非常非常多的坑点,本篇文章将以RMI运行过程为大纲,深入剖析其运行原理。
本篇文章运行环境为JDK7U80
[TOC]
第一步:服务端开启注册服务调试代码:
Server端:
1Registry registry &#x3D; LocateRegistry.createRegistry(1099);

Client端:
12Registry registry &#x3D; LocateRegistry.getRegistry(&quot;127.0.0.1&quot;,1099);registry.lookup(&quot;hello&quot;);

一切准备就绪,跟随Server端的启动进入RMI的调用旅程


跟进后首先便是实例化RegistryImpl对象


进入RegistryImpl类的构造函数,实例化一个LiveRef对象,var2就是端口号1099,此时this为Regis ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/03/07/RMI-JNDI%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1/" title="RMI,JNDI初探">     <img class="post_bg" src="https://s1.ax1x.com/2022/03/14/bXLZLQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RMI,JNDI初探"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/07/RMI-JNDI%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1/" title="RMI,JNDI初探">RMI,JNDI初探</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-07T11:56:29.000Z" title="发表于 2022-03-07 19:56:29">2022-03-07</time></span></div><div class="content">前言:在学习JAVA安全的路上有许多不顺利的地方,早早就听闻RMI,JNDI注入。最初我作为一个初学者,以为JNDI注入是不是就是类似sql注入和ongl表达式注入那样在某个输入框输入payload直接就触发然后就命令执行,带出数据xxx或者执行其他操作.但是当我初次研究后,处于一脸懵逼的状态,他好像比我想象中的复杂,接触初期觉得复杂肯定不是因为背后的代码有多么复杂,而是被概念搞混。本篇文章将会又最基本的概念解释开始讲起,逐渐深入其实现原理。
什么是RMI?RMI全称(Java Remote Method Invocation)JAVA远程方法调用,顾名思义,RMI是一个行为,我们把在一个JVM中调用另一个JVM中的JAVA方法的这种行为称之为RMI。
要完成RMI这个行为,我们分为三个步骤
1.Client-客户端 调用服务端方法
2.Server-服务端 给客户端提供方法进行调用注:代码将在服务端执行,而不是客户端。客户端获得的只是方法在客户端执行后的返回值
3.Register-注册中心 :本质是一个map,里面保存着客户端查询要调用的方法的引用
举个例子,下面编写两个程序,一个 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/03/03/java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%85%A5%E9%97%A8-URLDNS/" title="java反序列化入门(URLDNS)">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="java反序列化入门(URLDNS)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/03/java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%85%A5%E9%97%A8-URLDNS/" title="java反序列化入门(URLDNS)">java反序列化入门(URLDNS)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-03T09:00:20.000Z" title="发表于 2022-03-03 17:00:20">2022-03-03</time></span></div><div class="content">前言:反序列化漏洞在研究java反序列化漏洞之前大家肯定也对php反序列化漏洞,python反序列化漏洞有一定的了解.为什么反序列化漏洞如此盛行,在多个语言中都存在呢? 在学习java反序列化的时候我抛出了这样一个疑问.虽然本人水平有限并且短时间内难以准确回答这个问题,但是我从php反序列化和java反序列化中找到他们的相同与不同处,可能一定程度上能帮助我理解java反序列化.
反序列化漏洞的逻辑是什么?反序列化漏洞的触发是一个链型的逻辑,我们把这个链形调用链的开头,中部,结尾划分为以下三个部分
1.链的开头:在反序列化过程中执行或反序列化后执行的,我们称之为“kick-off” gadget
2.中部: 各种chain,起到链接1和3的作用
3.链的结尾:执行的任意代码或者命令的类(达成恶意目的) 我们称之为”sink” gadget
我们在代码中去寻找1和3,然后再找能让1和3链接起来的逻辑,从而形成一条完整的调用链触发恶意代码
PHP反序列化链中的kick-offphp中引入了魔法函数这一概念,对象在一些特殊状态下会触发他们.例如对象被初始化时使用的时候的__construct方 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/02/22/JAVA%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3%E8%AE%B0%E5%BD%95/" title="JAVA常用特性详解">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAVA常用特性详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/22/JAVA%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3%E8%AE%B0%E5%BD%95/" title="JAVA常用特性详解">JAVA常用特性详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-22T08:55:23.000Z" title="发表于 2022-02-22 16:55:23">2022-02-22</time></span></div><div class="content">作为一个没有进行过JAVA开发的菜鸡,在审计代码的过程中经常会遇到JAVA的一些特性,了解这些特性是必要的.我采用一边学习一边记录的方式,在学习JAVA安全过程中遇到的各种JAVA特性,概念在这里进行统一的学习记录,以方便查看.
这里我把他们分为两个类型,需要详细深入分析(以下简称详细)**的和了解用法原理(以下简称了解)的,**了解指能让我更好的理解读懂代码,详细指对漏洞触发,漏洞原理有直接影响的的核心特性.
目录:
[TOC]
泛型(了解)泛型,顾名思义广泛的数据类型,如何让一个变量成为任意的数据类型呢?答:让他成为泛型
例子:在JAVA中List就是一个泛型,我们可以往里面存各种数据,string,int,float,object都可以
可能出现的疑问(会在最后解答):为什么List是一个泛型?
12345List demo = new ArrayList();demo.add(123);//Integerdemo.add(&quot;123&quot;);//StringSystem.out.println(demo.get(0));System.out.println(dem ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/01/28/Struts2-S007%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/" title="Struts2-S007详细分析">     <img class="post_bg" src="https://s4.ax1x.com/2022/01/27/7jwhwV.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Struts2-S007详细分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/01/28/Struts2-S007%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/" title="Struts2-S007详细分析">Struts2-S007详细分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-01-28T04:42:59.000Z" title="发表于 2022-01-28 12:42:59">2022-01-28</time></span></div><div class="content">前言:在分析007的过程中发现007和001有一定的相似程度,但是在搭建环境的时候被网上不少文章给误导了,很明显这些文章并不是很清楚整个漏洞的触发条件以及原理,大部分的文章都会添加一个[ActionName]-validation.xml的验证表单,好像这个东西是整个漏洞触发的必要条件.后来发现这个是vulhub中带的,大家没有自己搭建环境就直接下载现成环境自然而然也不会去追究为什么会有这么一个东西以及他究竟是不是有必要的所以自己搭建环境进行复现是非常有必要的
0X01:环境搭建S2-007究竟会在什么样的一个环境下触发,首先就需要直到为什么会造成这个漏洞
很多文章一开头就说了,这个漏洞发生在类型转换时如果发生错误(比如abcd不能转换为int类型)的时候会将错误保存起来,然后将发生错误的参数传入input视图(struct.xml中配置),input视图如果存在标签解析,而这个标签恰巧是我们的可控数值,这个时候就struct就会默认尝试先去使用ognl解析这个标签的值,如果此时我们的值是一个ognl表达式那么就会被解析了
所以能够造成此漏洞的需要的必要环境条件是
1.于存在类型转换错 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/01/28/%E5%B8%B8%E7%94%A8%E5%8D%95%E8%AF%8D%E9%9A%8F%E7%AC%94%E8%AE%B0%E5%BD%95/" title="常用单词随笔记录">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用单词随笔记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/01/28/%E5%B8%B8%E7%94%A8%E5%8D%95%E8%AF%8D%E9%9A%8F%E7%AC%94%E8%AE%B0%E5%BD%95/" title="常用单词随笔记录">常用单词随笔记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-01-27T16:38:40.000Z" title="发表于 2022-01-28 00:38:40">2022-01-28</time></span></div><div class="content">为什么会有这样一个文章?
在我们看别人代码的时候,大部分变量名是以英文命名的,虽然我们有翻译软件可以翻译,但是在审计代码的过程中复杂的调用过程都去百度翻译一下是很浪费时间的而且很有可能让本来都不通顺的思维打断,我常常通过变量名,方法名作为理解一个函数作用的重要方法,英语又是我非常烂的一门学科,所以有了这篇文章,这篇文章会一直更新,记录那些常用的单词,并解释他们作为变量名的时候的含义,**并且同时学习代码编写规范,**这样才能更好的看懂别人的代码.
12345678910111213141516handle:句柄Conversion :转换Exception:异常property:属性Intercept:拦截器invoke:激活,引用invocation:调用iterator:迭代器pre:pre- 开头的函数或者变量名，通常会在程序的核心流程之前发生、进行；contains:包含util:工具类会带上,是utiliy的缩写compile:编译Malformed:格式错误sequence:序列External:外部Serial:连续的

</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://s3.ax1x.com/2021/01/15/s010Z4.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Mengd@</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Kumengda"><i class="fab fa-github"></i><span>访问我的github</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is Mengd@ Blog</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次lmxcms审计"/></a><div class="content"><a class="title" href="/2022/06/08/%E8%AE%B0%E4%B8%80%E6%AC%A1lmxcms%E5%AE%A1%E8%AE%A1/" title="记一次lmxcms审计">记一次lmxcms审计</a><time datetime="2022-06-08T11:59:53.000Z" title="发表于 2022-06-08 19:59:53">2022-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022面经总结"/></a><div class="content"><a class="title" href="/2022/04/18/2022%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93/" title="2022面经总结">2022面经总结</a><time datetime="2022-04-18T14:19:43.000Z" title="发表于 2022-04-18 22:19:43">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析"><img src="https://s1.ax1x.com/2022/04/17/LUFaFK.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Log4j-RCE源码分析"/></a><div class="content"><a class="title" href="/2022/04/17/Log4j-RCE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Log4j-RCE源码分析">Log4j-RCE源码分析</a><time datetime="2022-04-17T06:08:44.000Z" title="发表于 2022-04-17 14:08:44">2022-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shiro系列漏洞分析"/></a><div class="content"><a class="title" href="/2022/03/17/shiro%E7%B3%BB%E5%88%97%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" title="shiro系列漏洞分析">shiro系列漏洞分析</a><time datetime="2022-03-17T05:47:11.000Z" title="发表于 2022-03-17 13:47:11">2022-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)"><img src="https://s1.ax1x.com/2022/03/14/bXLZLQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="通过调试源码深入理解分析RMI运行机制(长文)"/></a><div class="content"><a class="title" href="/2022/03/10/%E9%80%9A%E8%BF%87%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90RMI%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" title="通过调试源码深入理解分析RMI运行机制(长文)">通过调试源码深入理解分析RMI运行机制(长文)</a><time datetime="2022-03-10T12:03:49.000Z" title="发表于 2022-03-10 20:03:49">2022-03-10</time></div></div></div></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/BUUCTF/" style="font-size: 1.1em; color: #999">BUUCTF</a> <a href="/tags/CBC%E5%AD%97%E8%8A%82%E7%BF%BB%E8%BD%AC%E6%94%BB%E5%87%BB/" style="font-size: 1.1em; color: #999">CBC字节翻转攻击</a> <a href="/tags/CTF/" style="font-size: 1.18em; color: #999ca1">CTF</a> <a href="/tags/CTF%E5%A4%8D%E7%8E%B0/" style="font-size: 1.1em; color: #999">CTF复现</a> <a href="/tags/Golang/" style="font-size: 1.1em; color: #999">Golang</a> <a href="/tags/JAVA/" style="font-size: 1.1em; color: #999">JAVA</a> <a href="/tags/JAVA%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 1.1em; color: #999">JAVA反序列化</a> <a href="/tags/JAVA%E5%AE%89%E5%85%A8/" style="font-size: 1.42em; color: #99a6b7">JAVA安全</a> <a href="/tags/JAVA%E7%89%B9%E6%80%A7/" style="font-size: 1.1em; color: #999">JAVA特性</a> <a href="/tags/JNDI%E6%B3%A8%E5%85%A5/" style="font-size: 1.1em; color: #999">JNDI注入</a> <a href="/tags/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 1.5em; color: #99a9bf">Java代码审计</a> <a href="/tags/Log4j/" style="font-size: 1.1em; color: #999">Log4j</a> <a href="/tags/PHP/" style="font-size: 1.1em; color: #999">PHP</a> <a href="/tags/RMI%E6%B3%A8%E5%85%A5/" style="font-size: 1.1em; color: #999">RMI注入</a> <a href="/tags/RMI%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 1.1em; color: #999">RMI源码分析</a> <a href="/tags/Redis/" style="font-size: 1.1em; color: #999">Redis</a> <a href="/tags/SQL%E6%B3%A8%E5%85%A5/" style="font-size: 1.1em; color: #999">SQL注入</a> <a href="/tags/SSRF/" style="font-size: 1.18em; color: #999ca1">SSRF</a> <a href="/tags/Struts2/" style="font-size: 1.34em; color: #99a3b0">Struts2</a> <a href="/tags/Thinkphp5/" style="font-size: 1.26em; color: #999fa8">Thinkphp5</a> <a href="/tags/URLDNS/" style="font-size: 1.1em; color: #999">URLDNS</a> <a href="/tags/XDEBUG/" style="font-size: 1.1em; color: #999">XDEBUG</a> <a href="/tags/bmp%E9%9A%90%E5%86%99/" style="font-size: 1.1em; color: #999">bmp隐写</a> <a href="/tags/pwn%E5%85%A5%E9%97%A8/" style="font-size: 1.1em; color: #999">pwn入门</a> <a href="/tags/shiro/" style="font-size: 1.1em; color: #999">shiro</a> <a href="/tags/udf%E6%8F%90%E6%9D%83/" style="font-size: 1.1em; color: #999">udf提权</a> <a href="/tags/web/" style="font-size: 1.1em; color: #999">web</a> <a href="/tags/web%E5%AE%89%E5%85%A8/" style="font-size: 1.1em; color: #999">web安全</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 1.18em; color: #999ca1">代码审计</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95/" style="font-size: 1.1em; color: #999">动态调试</a> <a href="/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 1.18em; color: #999ca1">反序列化</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E5%8D%95%E8%AF%8D%E8%AE%B0%E5%BD%95/" style="font-size: 1.1em; color: #999">常用单词记录</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 1.26em; color: #999fa8">源码审计</a> <a href="/tags/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" style="font-size: 1.1em; color: #999">漏洞复现</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.1em; color: #999">面试</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">28</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-08T12:10:39.207Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Mengd@</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  $.getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js',function () {
    jinrishici.load(function (result) {
      if (true) {
        var sub = "Welcome To Mengd@ Blog".length == 0 ? new Array() : "Welcome To Mengd@ Blog".split(',')
        var content = result.data.content
        var both = sub.unshift(content)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" async="async" mobile="false"></script></div></body></html>